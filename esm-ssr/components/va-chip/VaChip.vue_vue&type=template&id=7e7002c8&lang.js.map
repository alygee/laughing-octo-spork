{"version":3,"file":"VaChip.vue_vue&type=template&id=7e7002c8&lang.js","sources":["../../../../src/components/va-chip/VaChip.vue?vue&type=template&id=7e7002c8&lang.js"],"sourcesContent":["<template>\n  <component\n    v-if=\"valueComputed\"\n    class=\"va-chip\"\n    :is=\"tagComputed\"\n    :href=\"hrefComputed\"\n    :target=\"target\"\n    :to=\"to\"\n    :replace=\"replace\"\n    :exact=\"exact\"\n    :active-class=\"activeClass\"\n    :exact-active-class=\"exactActiveClass\"\n    :class=\"computedClass\"\n    :style=\"computedStyle\"\n  >\n    <div\n      class=\"va-chip__inner\"\n      v-on=\"SetupContext.keyboardFocusListeners\"\n      @focus=\"$emit('focus')\"\n      @mouseenter=\"updateHoverState(true)\"\n      @mouseleave=\"updateHoverState(false)\"\n      :tabindex=\"indexComputed\"\n    >\n      <va-icon\n        v-if=\"icon\"\n        class=\"va-chip__icon\"\n        :name=\"icon\"\n        :size=\"iconSize\"\n      />\n      <span class=\"va-chip__content\">\n        <slot></slot>\n      </span>\n      <va-icon\n        v-if=\"closeable\"\n        class=\"va-chip__close-icon\"\n        name=\"close\"\n        :size=\"iconSize\"\n        @click.stop=\"close()\"\n      />\n    </div>\n  </component>\n</template>\n\n<script lang=\"ts\">\nimport { watch } from 'vue'\nimport { Options, prop, mixins, setup, Vue } from 'vue-class-component'\n\nimport {\n  getBoxShadowColor,\n  getHoverColor,\n  getFocusColor, getTextColor,\n} from '../../services/color-config/color-functions'\nimport ColorMixin from '../../services/color-config/ColorMixin'\nimport { RouterLinkMixin } from '../../mixins/RouterLinkMixin/RouterLinkMixin'\nimport { StatefulMixin } from '../../mixins/StatefulMixin/StatefulMixin'\nimport useKeyboardOnlyFocus from '../../composables/useKeyboardOnlyFocus'\nimport VaIcon from '../va-icon'\n\nclass ChipProps {\n  modelValue = prop<boolean>({ type: Boolean, default: true })\n  closeable = prop<boolean>({ type: Boolean, default: false })\n  color = prop<string>({ type: String, default: 'primary' })\n  outline = prop<boolean>({ type: Boolean, default: false })\n  flat = prop<boolean>({ type: Boolean, default: false })\n  icon = prop<string>({ type: String, default: '' })\n  disabled = prop<boolean>({ type: Boolean, default: false })\n  square = prop<boolean>({ type: Boolean, default: false })\n  tag = prop<string>({ type: String, default: 'span' })\n  size = prop<string>({\n    type: String,\n    default: 'medium',\n    validator: (value: string) => {\n      return ['medium', 'small', 'large'].includes(value)\n    },\n  })\n  shadow = prop<boolean>({ type: Boolean, default: false })\n}\n\nconst ChipPropsMixin = Vue.with(ChipProps)\n\n@Options({\n  name: 'VaChip',\n  components: { VaIcon },\n  emits: ['focus'],\n})\nexport default class VaChip extends mixins(\n  RouterLinkMixin,\n  StatefulMixin,\n  ColorMixin,\n  ChipPropsMixin,\n) {\n  SetupContext = setup(() => {\n    const { hasKeyboardFocus, keyboardFocusListeners } = useKeyboardOnlyFocus()\n\n    return {\n      hasKeyboardFocus,\n      keyboardFocusListeners,\n    }\n  })\n\n  hoverState = false\n  focusState = false\n\n  created () {\n    watch(() => this.hoverState, (value) => {\n      this.updateHoverState(value)\n    })\n  }\n\n  get iconSize () {\n    const size: any = {\n      small: '0.875rem',\n      medium: '1rem',\n      large: '1.25rem',\n    }\n    return size[this.size]\n  }\n\n  get indexComputed () {\n    return this.disabled ? -1 : 0\n  }\n\n  get computedClass () {\n    return {\n      'va-chip--small': this.size === 'small',\n      'va-chip--large': this.size === 'large',\n      'va-chip--square': this.square,\n      'va-chip--disabled': this.disabled,\n    }\n  }\n\n  get shadowStyle () {\n    if (!this.shadow || this.flat || this.outline || this.disabled || this.SetupContext.hasKeyboardFocus) {\n      return\n    }\n    return '0 0.125rem 0.19rem 0 ' + getBoxShadowColor(this.colorComputed)\n  }\n\n  get computedStyle () {\n    const borderColor = this.outline ? this.colorComputed : ''\n    const computedStyle = {\n      color: this.colorComputed,\n      borderColor,\n      background: '',\n      boxShadow: this.shadowStyle,\n    }\n\n    if (this.outline || this.flat) {\n      if (this.SetupContext.hasKeyboardFocus) {\n        computedStyle.background = getFocusColor(this.colorComputed)\n      } else if (this.hoverState) {\n        computedStyle.background = getHoverColor(this.colorComputed)\n      }\n    } else {\n      computedStyle.color = getTextColor(this.colorComputed)\n      computedStyle.background = this.colorComputed\n    }\n    return computedStyle\n  }\n\n  updateHoverState (isHover: boolean) {\n    this.hoverState = isHover\n  }\n\n  close () {\n    if (!this.disabled) {\n      this.valueComputed = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources/resources\";\n@import \"variables\";\n\n.va-chip {\n  display: var(--va-chip-display);\n  border: var(--va-chip-border, var(--va-control-border));\n  position: var(--va-chip-position);\n  border-radius: var(--va-chip-border-radius);\n  width: var(--va-chip-width);\n  height: var(--va-chip-height);\n  min-width: var(--va-chip-min-width);\n  min-height: var(--va-chip-min-height);\n  padding: var(--va-chip-padding);\n  color: var(--va-chip-color);\n  cursor: var(--va-chip-cursor);\n  font-size: var(--va-chip-font-size);\n\n  &__inner {\n    display: var(--va-chip-inner-display);\n    align-items: var(--va-chip-inner-align-items);\n    width: var(--va-chip-inner-width);\n  }\n\n  &:hover {\n    opacity: var(--va-chip-hover-opacity);\n  }\n\n  &__content {\n    display: var(--va-chip-content-display);\n    justify-content: var(--va-chip-content-justify-content);\n    align-items: var(--va-chip-content-align-items);\n    padding: var(--va-chip-content-padding);\n    line-height: var(--va-chip-content-line-height);\n    width: var(--va-chip-content-width);\n  }\n\n  &__close-icon {\n    cursor: pointer;\n\n    /* z-index: 500; */\n\n    @at-root {\n      .va-chip--disabled {\n        .va-chip__close-icon {\n          cursor: default !important;\n        }\n      }\n    }\n  }\n\n  &--square {\n    border-radius: var(--va-chip-square-border-radius, var(--va-square-border-radius));\n  }\n\n  &--small {\n    height: var(--va-sm-chip-height);\n    font-size: var(--va-sm-chip-font-size);\n  }\n\n  &--large {\n    height: var(--va-lg-chip-height);\n    font-size: var(--va-lg-chip-font-size);\n  }\n\n  &.va-chip--disabled {\n    @include va-disabled;\n  }\n}\n</style>\n"],"names":["_ctx","_mergeProps","class","href","target","to","replace","exact","style","_createVNode","_toHandlers","keyboardFocusListeners","onFocus","onMouseenter","onMouseleave","tabindex","_createBlock","name","size","_renderSlot","onClick"],"mappings":"0XAEUA,wBAEDA,eAHPC,GAEEC,OAAM,UASEF,iBAPPG,KAAMH,eACNI,OAAQJ,SACRK,GAAIL,KACJM,QAASN,UACTO,MAAOP,QACP,eAAcA,cACd,qBAAoBA,mBAEpBQ,MAAOR,gCAZV,yBAcES,QAAAR,GACEC,MAAM,kBACNQ,iBAAmBC,yBAClBC,WAAOZ,iBACPa,gBAAYb,uBACZc,gBAAYd,uBACZe,SAAUf,mBAGHA,EAAI,UADZgB,WAEEd,MAAM,gBACLe,KAAMjB,OACNkB,KAAMlB,kDAETS,UAAMP,MAAM,qBACViB,wBAGMnB,EAAS,eADjBgB,WAEEd,MAAM,sBACNe,KAAK,QACJC,KAAMlB,WACNoB,cAAYpB,4JAhBd,WAAUA,yBAGHA,cACNE,MAAM,gBACLe,KAAMjB,OACNkB,KAAMlB,oIAMDA,mBACNE,MAAM,sBACNe,KAAK,QACJC,KAAMlB"}