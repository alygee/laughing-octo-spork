{"version":3,"file":"VaButton.vue_vue&type=template&id=49343f08&lang.js","sources":["../../../../src/components/va-button/VaButton.vue?vue&type=template&id=49343f08&lang.js"],"sourcesContent":["<template>\n  <component\n    :is=\"tagComputed\"\n    class=\"va-button\"\n    :class=\"computedClass\"\n    :style=\"computedStyle\"\n    :disabled=\"disabled\"\n    :type=\"computedType\"\n    :href=\"hrefComputed\"\n    :target=\"target\"\n    :to=\"to\"\n    :replace=\"replace\"\n    :append=\"append\"\n    :active-class=\"activeClass\"\n    :exact=\"exact\"\n    :exact-active-class=\"exactActiveClass\"\n    @focus=\"updateFocusState(true)\"\n    @blur=\"updateFocusState(false)\"\n    :tabindex=\"loading ? -1 : 0\"\n    @mouseenter=\"updateHoverState(true)\"\n    @mouseleave=\"updateHoverState(false)\"\n    v-on=\"inputListeners\"\n  >\n    <div\n      class=\"va-button__content\"\n      :class=\"{'va-button__content--loading': loading}\"\n    >\n      <va-icon\n        v-if=\"icon\"\n        :name=\"icon\"\n        :size=\"size\"\n        class=\"va-button__left-icon\"\n      />\n      <slot />\n      <va-icon\n        v-if=\"iconRight\"\n        :name=\"iconRight\"\n        :size=\"size\"\n        class=\"va-button__right-icon\"\n      />\n    </div>\n    <va-progress-circle\n      v-if=\"loading\"\n      class=\"va-button__loader\"\n      indeterminate\n      :size=\"loaderSize\"\n      :color=\"computedStyle.color\"\n      :thickness=\"0.15\"\n    />\n  </component>\n</template>\n\n<script lang=\"ts\">\nimport { watchEffect, watch } from 'vue'\nimport { mixins, Vue, prop, Options, setup } from 'vue-class-component'\nimport {\n  getGradientBackground,\n  getFocusColor,\n  getHoverColor,\n  getBoxShadowColor,\n  shiftHSLAColor,\n} from '../../services/color-config/color-functions'\nimport ColorMixin from '../../services/color-config/ColorMixin'\nimport { RouterLinkMixin } from '../../mixins/RouterLinkMixin/RouterLinkMixin'\nimport { SizeMixin } from '../../mixins/SizeMixin'\nimport { LoadingMixin } from '../../mixins/LoadingMixin/LoadingMixin'\nimport VaIcon from '../va-icon'\nimport { VaProgressCircle } from '../va-progress-bar'\n\nclass ButtonProps {\n  color = prop<string>({ type: String, default: undefined })\n  textColor = prop<string>({ type: String, default: undefined })\n  tag = prop<string>({ type: String, default: 'button' })\n  outline = prop<boolean>({ type: Boolean, default: undefined })\n  gradient = prop<boolean>({ type: Boolean, default: undefined })\n  flat = prop<boolean>({ type: Boolean, default: undefined })\n  type = prop<string>({ type: String, default: 'button' })\n  disabled = prop<boolean>({ type: Boolean, default: false })\n  block = prop<boolean>({ type: Boolean, default: false })\n  rounded = prop<boolean>({ type: Boolean, default: true })\n  round = prop<boolean>({ type: Boolean, default: undefined })\n  spaceBetweenItems = prop<boolean>({ type: Boolean, default: undefined })\n  icon = prop<string>({ type: String, default: undefined })\n  iconRight = prop<string>({ type: String, default: undefined })\n  size = prop<string>({\n    type: String,\n    default: 'medium',\n    validator: (value: string) => {\n      return ['medium', 'small', 'large'].includes(value)\n    },\n  })\n}\n\nconst ButtonPropsMixin = Vue.with(ButtonProps)\n\n@Options({\n  name: 'VaButton',\n  components: { VaIcon, VaProgressCircle },\n  emits: ['click'],\n})\nexport default class VaButton extends mixins(\n  ColorMixin,\n  RouterLinkMixin,\n  SizeMixin,\n  LoadingMixin,\n  ButtonPropsMixin,\n) {\n  hoverState = false\n  focusState = false\n\n  context = setup(() => {\n    watch(() => this.$props.loading, (loading) => {\n      if (loading) {\n        this.updateFocusState(false)\n        this.updateHoverState(false)\n      }\n    })\n\n    watchEffect(() => {\n      this.updateFocusState(this.focusState)\n      this.updateHoverState(this.hoverState)\n    })\n\n    return {}\n  })\n\n  get computedType () {\n    // Safari issue. type===button will break styles if the button is used as a link\n    switch (this.tagComputed) {\n    case 'a':\n    case 'router-link':\n    case 'nuxt-link':\n      return undefined\n    default:\n      return this.type\n    }\n  }\n\n  get isTransparentBackground () {\n    return this.outline || this.flat\n  }\n\n  get colorComputed () {\n    return this.computeColor(this.color, 'primary')\n  }\n\n  get textColorComputed () {\n    if (this.$props.textColor !== undefined) {\n      return this.computeColor(this.textColor, '#fff')\n    }\n\n    if (this.isTransparentBackground) {\n      return this.computeColor(this.colorComputed, '#fff')\n    }\n\n    return this.computeColor(this.textColor, '#fff')\n  }\n\n  get hasDefaultSlot () {\n    return this.$slots.default\n  }\n\n  get computedClass () {\n    return {\n      'va-button--default': !this.flat && !this.outline && !this.disabled,\n      'va-button--flat': this.flat,\n      'va-button--outline': this.outline,\n      'va-button--disabled': this.disabled,\n      'va-button--hover': this.hoverState,\n      'va-button--focus': this.focusState,\n      'va-button--large': this.size === 'large',\n      'va-button--small': this.size === 'small',\n      'va-button--normal': !this.size || this.size === 'medium',\n      'va-button--loading': this.loading,\n      'va-button--block': this.block,\n      'va-button--square': !this.rounded,\n      'va-button--round': this.round || !this.hasDefaultSlot,\n      'va-button--space-between-items': this.spaceBetweenItems,\n    }\n  }\n\n  get shadowStyle () {\n    return '0 0 0.03rem 0.15rem ' + shiftHSLAColor(this.colorComputed, { a: -0.75 })\n  }\n\n  get loaderSize () {\n    const size = /([0-9]*)(px)/.exec(this.sizeComputed) as null | [string, string, string]\n\n    if (size) {\n      return `${+size[1] / 2}${size[2]}`\n    }\n\n    return this.sizeComputed\n  }\n\n  get computedStyle () {\n    let boxShadow = ''\n    const color = this.textColorComputed\n    const borderColor = this.outline ? this.colorComputed : ''\n    let background = this.isTransparentBackground ? '#00000000' : this.gradient ? getGradientBackground(this.colorComputed) : this.colorComputed\n    if (this.hoverState) {\n      const alpha = this.outline ? -0.9 : -0.8\n      const lightness = 5\n      const color = this.isTransparentBackground ? shiftHSLAColor(this.colorComputed, { a: alpha }) : shiftHSLAColor(this.colorComputed, { l: lightness })\n      background = this.gradient ? getGradientBackground(color) : color\n    }\n    if (this.focusState) {\n      boxShadow = this.shadowStyle\n    }\n    return {\n      color: color,\n      borderColor: borderColor,\n      background: background,\n      boxShadow: boxShadow,\n    }\n  }\n\n  get inputListeners () {\n    // vue3 $listeners.click -> $attrs.onClick\n    return Object.assign({},\n      this.$attrs,\n      {\n        click: (event: Event) => {\n          this.$emit('click', event)\n        },\n      },\n    )\n  }\n\n  updateHoverState (isHover: boolean) {\n    this.hoverState = isHover\n  }\n\n  updateFocusState (isFocused: boolean) {\n    this.focusState = isFocused\n  }\n\n  /** @public */\n  focus (): void {\n    (this.$el as HTMLElement).focus()\n  }\n\n  /** @public */\n  blur (): void {\n    (this.$el as HTMLElement).blur()\n  }\n}\n</script>\n\n<style lang='scss'>\n@import '../../styles/resources/resources';\n@import \"variables\";\n\n.va-button {\n  display: var(--va-button-display);\n  align-items: var(--va-button-align-items);\n  justify-content: var(--va-button-justify-content);\n  background-image: var(--va-button-background-image);\n  box-shadow: var(--va-button-box-shadow, var(--va-control-box-shadow));\n  outline: var(--va-button-outline);\n  border: var(--va-button-border, var(--va-control-border));\n  font-family: var(--va-button-font-family, var(--va-font-family));\n  text-decoration: none !important;\n  text-transform: initial;\n  cursor: pointer;\n  transition: var(--va-button-transition, var(--va-swing-transition));\n  background-color: var(--va-button-background-color, var(--va-white));\n  vertical-align: middle;\n  box-sizing: border-box;\n  font-weight: var(--va-button-font-weight);\n  margin: var(--va-button-margin);\n  padding: var(--va-button-padding);\n  position: relative;\n\n  &__content {\n    display: flex;\n    align-items: center;\n    height: 100%;\n\n    &__title,\n    &__icon {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin: auto;\n      white-space: nowrap;\n    }\n\n    &--loading {\n      opacity: 0;\n    }\n  }\n\n  &--default {\n    color: var(--va-button-background-color, var(--va-white));\n\n    &:focus,\n    &:active {\n      //filter: brightness(85%);\n    }\n\n    i {\n      color: var(--va-button-icon-color, var(--va-white));\n    }\n  }\n\n  &--outline {\n    background-color: transparent;\n    border: solid var(--va-button-outline-border, var(--va-outline-border-width));\n    text-decoration: none;\n\n    .va-button__content {\n      margin: calc(var(--va-button-outline-border, var(--va-outline-border-width)) * -1);\n    }\n\n    &.va-button--disabled {\n      background: transparent;\n\n      @include va-disabled;\n\n      &.va-button--active {\n        .va-button__content,\n        i {\n          color: var(--va-button-outline-icon-color, var(--va-white)) !important;\n        }\n      }\n    }\n  }\n\n  &--flat {\n    background: transparent;\n    border: var(--va-button-flat-border, var(--va-control-border)) solid transparent;\n    text-decoration: none;\n  }\n\n  &.va-button--disabled {\n    @include va-disabled;\n  }\n\n  &--large {\n    @include va-button(var(--va-button-lg-content-py), var(--va-button-lg-content-px), var(--va-button-lg-font-size), var(--va-button-lg-line-height), var(--va-button-lg-border-radius));\n\n    letter-spacing: var(--va-button-lg-letter-spacing);\n    min-height: var(--va-button-lg-size);\n    min-width: var(--va-button-lg-size);\n\n    .va-button__content {\n      padding: var(--va-button-lg-content-py) var(--va-button-lg-content-px);\n    }\n\n    &.va-button--round {\n      width: var(--va-button-lg-size);\n    }\n\n    &.va-button--outline {\n      line-height: calc(var(--va-button-lg-line-height) - 2 * var(--va-button-outline-border, var(--va-outline-border-width)));\n    }\n\n    &.va-button--square {\n      border-radius: var(--va-button-lg-square-border-radius);\n    }\n\n    .va-button__left-icon {\n      margin-left: calc(var(--va-button-lg-content-px) / -2);\n      margin-right: calc(var(--va-button-lg-space-between-items) / 2);\n    }\n\n    .va-button__right-icon {\n      margin-left: calc(var(--va-button-lg-space-between-items) / 2);\n      margin-right: calc(var(--va-button-lg-content-px) / -2);\n    }\n  }\n\n  &--small {\n    @include va-button(var(--va-button-sm-content-py), var(--va-button-sm-content-px), var(--va-button-sm-font-size), var(--va-button-sm-line-height), var(--va-button-sm-border-radius));\n\n    letter-spacing: var(--va-button-sm-letter-spacing);\n    min-height: var(--va-button-sm-size);\n    min-width: var(--va-button-sm-size);\n\n    .va-button__content {\n      padding: var(--va-button-sm-content-py) var(--va-button-sm-content-px);\n    }\n\n    &.va-button--round {\n      width: var(--va-button-sm-size);\n    }\n\n    &.va-button--outline {\n      line-height: calc(var(--va-button-sm-line-height) - 2 * var(--va-button-outline-border, var(--va-outline-border-width)));\n    }\n\n    &.va-button--square {\n      border-radius: var(--va-button-sm-square-border-radius);\n    }\n\n    .va-button__left-icon {\n      margin-left: calc(var(--va-button-sm-content-px) / -2);\n      margin-right: calc(var(--va-button-sm-space-between-items) / 2);\n    }\n\n    .va-button__right-icon {\n      margin-left: calc(var(--va-button-sm-space-between-items) / 2);\n      margin-right: calc(var(--va-button-sm-content-px) / -2);\n    }\n  }\n\n  &--normal {\n    @include va-button(var(--va-button-content-py), var(--va-button-content-px), var(--va-button-font-size), var(--va-button-line-height), var(--va-button-border-radius));\n\n    letter-spacing: var(--va-button-letter-spacing, var(--va-letter-spacing));\n    min-height: var(--va-button-size);\n    min-width: var(--va-button-size);\n\n    .va-button__content {\n      padding: var(--va-button-content-py) var(--va-button-content-px);\n      line-height: var(--va-button-line-height);\n    }\n\n    &.va-button--round {\n      width: var(--va-button-size);\n    }\n\n    &.va-button--outline {\n      line-height: calc(var(--va-button-line-height) - 2 * var(--va-button-outline-border, var(--va-outline-border-width)));\n    }\n\n    &.va-button--square {\n      border-radius: var(--va-button-square-border-radius);\n    }\n\n    .va-button__left-icon {\n      margin-left: calc(var(--va-button-content-px) / -2);\n      margin-right: calc(var(--va-button-space-between-items) / 2);\n    }\n\n    .va-button__right-icon {\n      margin-left: calc(var(--va-button-space-between-items) / 2);\n      margin-right: calc(var(--va-button-content-px) / -2);\n    }\n  }\n\n  &--round {\n    .va-button__content {\n      padding: 0;\n    }\n\n    .va-button__left-icon {\n      margin-left: 0;\n      margin-right: 0;\n    }\n\n    .va-button__right-icon {\n      margin-left: 0;\n      margin-right: 0;\n    }\n  }\n\n  &--space-between-items {\n    .va-button__content > * {\n      margin-right: calc(var(--va-button-space-between-items) / 2);\n      margin-left: calc(var(--va-button-space-between-items) / 2);\n\n      &:last-child {\n        margin-right: 0;\n      }\n\n      &:first-child {\n        margin-left: 0;\n      }\n    }\n  }\n\n  &--loading {\n    pointer-events: none;\n  }\n\n  &--block {\n    display: flex;\n    min-width: 100%;\n  }\n\n  &--square {\n    border-radius: 0.5rem;\n  }\n\n  &__loader {\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n  }\n}\n</style>\n"],"names":["_ctx","_mergeProps","class","style","disabled","type","href","target","to","replace","append","exact","tabindex","_toHandlers","_createVNode","_createBlock","name","size","_renderSlot","indeterminate","color","thickness"],"mappings":"0YAESA,eADPC,GAEEC,OAAM,YACEF,iBACPG,MAAOH,gBACPI,SAAUJ,WACVK,KAAML,eACNM,KAAMN,eACNO,OAAQP,SACRQ,GAAIR,KACJS,QAAST,UACTU,OAAQV,SACR,eAAcA,cACdW,MAAOX,QACP,qBAAoBA,mBAGpBY,SAAUZ,gBAGXa,EAAMb,iCApBR,yBAsBEc,SACEZ,OAAM,oDACkCF,cAGhCA,EAAI,UADZe,WAEGC,KAAMhB,OACNiB,KAAMjB,OACPE,MAAM,8DAERgB,sBAEQlB,EAAS,eADjBe,WAEGC,KAAMhB,YACNiB,KAAMjB,OACPE,MAAM,mEAIFF,EAAO,aADfe,WAEEb,MAAM,oBACNiB,cAAA,GACCF,KAAMjB,aACNoB,MAAOpB,gBAAcoB,MACrBC,UAAW,4GAtB4BrB,2CAGhCA,cACLgB,KAAMhB,OACNiB,KAAMjB,OACPE,MAAM,0FAIAF,mBACLgB,KAAMhB,YACNiB,KAAMjB,OACPE,MAAM,mEAIFF,iBACNE,MAAM,oBACNiB,cAAA,GACCF,KAAMjB,aACNoB,MAAOpB,gBAAcoB,MACrBC,UAAW"}