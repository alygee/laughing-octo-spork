import{__decorate as t}from"tslib";import{ref as e,provide as o,inject as n,watch as s}from"vue";import{Vue as i,mixins as r,setup as a,Options as c,prop as h}from"../../../node_modules/vue-class-component/dist/vue-class-component.esm-bundler.js";import p from"../../../services/color-config/ColorMixin.js";import d from"../SquareWithIcon/index.js";import u from"../../va-icon/index.js";var l;const m=i.with(class{constructor(){this.label=h({default:"",type:[String,Number]}),this.isOpen=h(Boolean),this.icon=h({default:"",type:String}),this.color=h({type:String,default:"primary"})}});let C=l=class extends(r(p,m)){constructor(){super(...arguments),this.isOpenCached=!1,this.setupContext=a((()=>{const t=e([]),s={onChildMounted:e=>{t.value.push(e)},onChildUnmounted:e=>{t.value=t.value.filter((t=>t!==e))}};o("treeCategory",s);return{treeCategory:s,treeRoot:n("treeRoot",{onChildMounted:t=>{},onChildUnmounted:t=>{}}),nodes:t}}))}created(){s((()=>this.$props.isOpen),(t=>{this.isOpenCached=t}),{immediate:!0})}collapse(){this.isOpenCached=!1,this.$nextTick((()=>{this.setupContext.nodes.forEach((t=>{"va-tree-category"===t.$options.name&&t.collapse()}))}))}expand(){this.isOpenCached=!0,this.$nextTick((()=>{this.setupContext.nodes.forEach((t=>{t instanceof l&&t.expand()}))}))}toggle(t){t.target.classList.contains("va-checkbox__input")||(this.isOpenCached=!this.isOpenCached)}mounted(){this.setupContext.treeRoot&&this.setupContext.treeRoot.onChildMounted(this)}beforeUnmount(){this.setupContext.treeRoot&&this.setupContext.treeRoot.onChildUnmounted(this)}};C=l=t([c({name:"VaTreeCategory",components:{VaIcon:u,SquareWithIcon:d}})],C);var x=C;export default x;
//# sourceMappingURL=VaTreeCategory.vue_vue&type=script&lang.js.map
