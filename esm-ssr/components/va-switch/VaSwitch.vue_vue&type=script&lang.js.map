{"version":3,"file":"VaSwitch.vue_vue&type=script&lang.js","sources":["../../../../src/components/va-switch/VaSwitch.vue"],"sourcesContent":["<template>\n  <va-input-wrapper\n    class=\"va-switch\"\n    :class=\"computedClass\"\n    :disabled=\"$props.disabled\"\n    :success=\"$props.success\"\n    :messages=\"$props.messages\"\n    :error=\"computedError\"\n    :error-messages=\"computedErrorMessages\"\n    :error-count=\"$props.errorCount\"\n  >\n    <div\n      class=\"va-switch__container\"\n      tabindex=\"-1\"\n      @blur=\"onBlur\"\n      ref=\"container\"\n    >\n      <div\n        class=\"va-switch__inner\"\n        @click=\"onWrapperClick()\"\n      >\n        <input\n          class=\"va-switch__input\"\n          ref=\"input\"\n          type=\"checkbox\"\n          role=\"switch\"\n          :aria-checked=\"isChecked\"\n          :id=\"$props.id\"\n          :name=\"$props.name\"\n          readonly\n          :disabled=\"$props.disabled\"\n          v-on=\"SetupContext.keyboardFocusListeners\"\n          @focus=\"onFocus\"\n          @blur=\"onBlur\"\n          @keypress.prevent=\"toggleSelection()\"\n        >\n        <div\n          class=\"va-switch__track\"\n          :style=\"trackStyle\"\n        >\n          <div class=\"va-switch__track-label\">\n            <slot name=\"innerLabel\">\n              {{ computedInnerLabel }}\n            </slot>\n          </div>\n          <div class=\"va-switch__checker-wrapper\">\n            <span\n              class=\"va-switch__checker\"\n            >\n              <va-progress-circle\n                v-if=\"$props.loading\"\n                indeterminate\n                :size=\"progressCircleSize\"\n                :color=\"trackStyle.backgroundColor\"\n              />\n            </span>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"va-switch__label\"\n        ref=\"label\"\n        @blur=\"onBlur\"\n        :style=\"labelStyle\"\n        @click=\"onWrapperClick()\"\n      >\n        <slot>\n          {{ computedLabel }}\n        </slot>\n      </div>\n    </div>\n  </va-input-wrapper>\n</template>\n\n<script lang=\"ts\">\nimport { Options, prop, mixins, setup, Vue } from 'vue-class-component'\n\nimport ColorMixin from '../../services/color-config/ColorMixin'\nimport { SelectableMixin } from '../../mixins/SelectableMixin/SelectableMixin'\nimport { LoadingMixin } from '../../mixins/LoadingMixin/LoadingMixin'\nimport { VaProgressCircle } from '../va-progress-bar'\nimport { VaInputWrapper } from '../va-input'\nimport useKeyboardOnlyFocus from '../../composables/useKeyboardOnlyFocus'\n\nclass SwitchProps {\n  modelValue = prop<boolean | any[] | string | Record<string, unknown>>({\n    type: [Boolean, Array, String, Object],\n    default: false,\n  })\n\n  size = prop<string>({\n    type: String,\n    default: 'medium',\n    validator: (modelValue: string) => {\n      return ['medium', 'small', 'large'].includes(modelValue)\n    },\n  })\n\n  trueLabel = prop<string>({ type: String, default: null })\n  falseLabel = prop<string>({ type: String, default: null })\n  trueInnerLabel = prop<string>({ type: String, default: null })\n  falseInnerLabel = prop<string>({ type: String, default: null })\n  color = prop<string>({ type: String, default: 'primary' })\n}\n\nconst SwitchPropsMixin = Vue.with(SwitchProps)\n\n@Options({\n  name: 'VaSwitch',\n  components: { VaProgressCircle, VaInputWrapper },\n  emits: ['focus', 'blur', 'update:modelValue'],\n})\nexport default class VaSwitch extends mixins(\n  SelectableMixin,\n  LoadingMixin,\n  ColorMixin,\n  SwitchPropsMixin,\n) {\n  SetupContext = setup(() => {\n    const { hasKeyboardFocus, keyboardFocusListeners } = useKeyboardOnlyFocus()\n\n    return {\n      hasKeyboardFocus,\n      keyboardFocusListeners,\n    }\n  })\n\n  get computedInnerLabel () {\n    if (this.$props.trueInnerLabel && this.isChecked) {\n      return this.$props.trueInnerLabel\n    }\n    if (this.$props.falseInnerLabel && !this.isChecked) {\n      return this.$props.falseInnerLabel\n    }\n    return ''\n  }\n\n  get computedLabel () {\n    if (this.$props.trueLabel && this.isChecked) {\n      return this.$props.trueLabel\n    }\n    if (this.$props.falseLabel && !this.isChecked) {\n      return this.$props.falseLabel\n    }\n    return this.$props.label\n  }\n\n  get computedClass () {\n    return {\n      'va-switch--checked': this.isChecked,\n      'va-switch--small': this.$props.size === 'small',\n      'va-switch--large': this.$props.size === 'large',\n      'va-switch--disabled': this.$props.disabled,\n      'va-switch--left-label': this.$props.leftLabel,\n      'va-switch--error': this.computedError,\n      'va-switch--on-keyboard-focus': this.SetupContext.hasKeyboardFocus,\n    }\n  }\n\n  get progressCircleSize () {\n    const size: any = {\n      small: '15px',\n      medium: '20px',\n      large: '25px',\n    }\n    return size[this.$props.size as string]\n  }\n\n  get trackStyle () {\n    return {\n      borderColor: this.$props.error\n        ? this.theme.getColor('danger')\n        : '',\n      backgroundColor: this.isChecked\n        ? this.colorComputed\n        : this.theme.getColor('gray'),\n    }\n  }\n\n  get labelStyle () {\n    return {\n      color: this.$props.error ? this.theme.getColor('danger') : '',\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources/resources\";\n@import 'variables';\n\n.va-switch {\n  @at-root {\n    .va-switch__container {\n      display: var(--va-switch-container-display);\n      align-items: var(--va-switch-container-align-items);\n    }\n  }\n\n  display: var(--va-switch-display);\n\n  &:focus {\n    outline: none;\n  }\n\n  &__inner {\n    cursor: var(--va-switch-inner-cursor);\n    display: var(--va-switch-inner-display);\n    position: var(--va-switch-inner-position);\n    height: var(--va-switch-inner-height);\n    width: var(--va-switch-inner-width);\n    min-width: var(--va-switch-inner-min-width);\n    border-radius: var(--va-switch-inner-border-radius);\n\n    &:focus {\n      outline: 0;\n      box-shadow: 0 0 0 0.3rem rgba(52, 144, 220, 0.5);\n    }\n  }\n\n  &--small {\n    .va-switch {\n      &__inner {\n        height: var(--va-switch-sm-inner-height);\n        width: var(--va-switch-sm-inner-width);\n        min-width: var(--va-switch-sm-inner-min-width);\n      }\n\n      &__checker {\n        height: 1.1rem;\n        width: 1.1rem;\n      }\n    }\n  }\n\n  &--large {\n    .va-switch {\n      &__inner {\n        height: var(--va-switch-lg-inner-height);\n        width: var(--va-switch-lg-inner-width);\n        min-width: var(--va-switch-lg-inner-min-width);\n      }\n\n      &__checker {\n        height: 1.8rem;\n        width: 1.8rem;\n      }\n    }\n  }\n\n  &--disabled {\n    @include va-disabled;\n  }\n\n  &--left-label {\n    .va-switch__container {\n      flex-direction: row-reverse;\n    }\n\n    .va-switch__label {\n      padding: 0 var(--va-switch-label-left-padding) 0 0;\n    }\n  }\n\n  &--checked {\n    .va-switch {\n      &__checker {\n        margin: auto -0.3rem;\n        transform: translateX(-100%);\n      }\n\n      &__checker-wrapper {\n        transform: translateX(100%);\n      }\n    }\n  }\n\n  &--error {\n    .va-switch {\n      &__track {\n        border: 0.1rem solid;\n      }\n    }\n  }\n\n  &__label {\n    cursor: pointer;\n    text-align: left;\n    padding: 0 0 0 var(--va-switch-label-right-padding);\n  }\n\n  #{&}__track {\n    display: var(--va-switch-track-display);\n    overflow: var(--va-switch-track-overflow);\n    border-radius: var(--va-switch-track-border-radius);\n    height: var(--va-switch-track-height);\n    width: var(--va-switch-track-width);\n    background: var(--va-switch-track-background);\n    box-shadow: var(--va-switch-track-box-shadow);\n    transition: var(--va-switch-track-transition);\n\n    @at-root {\n      .va-switch--on-keyboard-focus#{&} {\n        transition: all, 0.6s, ease-in;\n        box-shadow: 0 0 0.5rem 0 rgba(0, 0, 0, 0.3);\n      }\n\n      .va-switch--small#{&} {\n        border-radius: 0.75rem;\n      }\n\n      .va-switch--large#{&} {\n        border-radius: 1.25rem;\n      }\n    }\n  }\n\n  #{&}__track-label {\n    color: $white;\n    margin: auto 0.5rem auto 2rem;\n\n    @at-root {\n      .va-switch--checked#{&} {\n        margin: auto 2rem auto 0.5rem;\n      }\n\n      .va-switch--small#{&} {\n        margin: auto 0.5rem auto 1.55rem;\n\n        @at-root {\n          .va-switch--checked#{&} {\n            margin: auto 1.55rem auto 0.5rem;\n          }\n        }\n      }\n\n      .va-switch--large#{&} {\n        margin: auto 0.5rem auto 2.3rem;\n\n        @at-root {\n          .va-switch--checked#{&} {\n            margin: auto 2.3rem auto 0.5rem;\n          }\n        }\n      }\n    }\n  }\n\n  &__checker {\n    position: var(--va-switch-checker-position);\n    top: var(--va-switch-checker-top);\n    bottom: var(--va-switch-checker-bottom);\n    margin: var(--va-switch-checker-margin);\n    transform: var(--va-switch-checker-transform);\n    height: var(--va-switch-checker-height);\n    width: var(--va-switch-checker-width);\n    background-color: var(--va-switch-checker-background-color);\n    border-radius: var(--va-switch-checker-border-radius);\n    box-shadow: var(--va-switch-checker-box-shadow);\n    transition: var(--va-switch-checker-transition);\n    display: var(--va-switch-checker-display);\n    justify-content: var(--va-switch-checker-justify-content);\n    align-items: var(--va-switch-checker-align-items);\n  }\n\n  &__checker-wrapper {\n    position: var(--va-switch-checker-wrapper-position);\n    margin: var(--va-switch-checker-wrapper-margin);\n    transform: var(--va-switch-checker-wrapper-transform);\n    top: var(--va-switch-checker-wrapper-top);\n    left: var(--va-switch-checker-wrapper-left);\n    bottom: var(--va-switch-checker-wrapper-bottom);\n    right: var(--va-switch-checker-wrapper-right);\n    width: var(--va-switch-checker-wrapper-width);\n    height: var(--va-switch-checker-wrapper-height);\n    transition: var(--va-switch-checker-wrapper-transition);\n    pointer-events: var(--va-switch-checker-wrapper-pointer-events);\n  }\n\n  &__input {\n    position: absolute;\n    opacity: 0;\n    height: 0;\n    width: 0;\n  }\n}\n</style>\n"],"names":["SwitchPropsMixin","Vue","with","constructor","this","prop","type","Boolean","Array","String","Object","default","validator","modelValue","includes","VaSwitch","mixins","SelectableMixin","LoadingMixin","ColorMixin","setup","hasKeyboardFocus","keyboardFocusListeners","useKeyboardOnlyFocus","computedInnerLabel","$props","trueInnerLabel","isChecked","falseInnerLabel","computedLabel","trueLabel","falseLabel","label","computedClass","size","disabled","leftLabel","computedError","SetupContext","progressCircleSize","small","medium","large","trackStyle","borderColor","error","theme","getColor","backgroundColor","colorComputed","labelStyle","color","Options","name","components","VaProgressCircle","VaInputWrapper","emits"],"mappings":"klBAyGA,MAAMA,EAAmBC,EAAIC,KArB7B,MAAAC,cACEC,gBAAaC,EAAyD,CACpEC,KAAM,CAACC,QAASC,MAAOC,OAAQC,QAC/BC,SAAS,IAGXP,UAAOC,EAAa,CAClBC,KAAMG,OACNE,QAAS,SACTC,UAAYC,GACH,CAAC,SAAU,QAAS,SAASC,SAASD,KAIjDT,eAAYC,EAAa,CAAEC,KAAMG,OAAQE,QAAS,OAClDP,gBAAaC,EAAa,CAAEC,KAAMG,OAAQE,QAAS,OACnDP,oBAAiBC,EAAa,CAAEC,KAAMG,OAAQE,QAAS,OACvDP,qBAAkBC,EAAa,CAAEC,KAAMG,OAAQE,QAAS,OACxDP,WAAQC,EAAa,CAAEC,KAAMG,OAAQE,QAAS,eAUhD,IAAqBI,EAArB,cAAsCC,EACpCC,EACAC,EACAC,EACAnB,IAJFG,kCAMEC,kBAAegB,GAAM,KACnB,MAAMC,iBAAEA,EAAgBC,uBAAEA,GAA2BC,IAErD,MAAO,CACLF,iBAAAA,EACAC,uBAAAA,MAIJE,yBACE,OAAIpB,KAAKqB,OAAOC,gBAAkBtB,KAAKuB,UAC9BvB,KAAKqB,OAAOC,eAEjBtB,KAAKqB,OAAOG,kBAAoBxB,KAAKuB,UAChCvB,KAAKqB,OAAOG,gBAEd,GAGTC,oBACE,OAAIzB,KAAKqB,OAAOK,WAAa1B,KAAKuB,UACzBvB,KAAKqB,OAAOK,UAEjB1B,KAAKqB,OAAOM,aAAe3B,KAAKuB,UAC3BvB,KAAKqB,OAAOM,WAEd3B,KAAKqB,OAAOO,MAGrBC,oBACE,MAAO,CACL,qBAAsB7B,KAAKuB,UAC3B,mBAAyC,UAArBvB,KAAKqB,OAAOS,KAChC,mBAAyC,UAArB9B,KAAKqB,OAAOS,KAChC,sBAAuB9B,KAAKqB,OAAOU,SACnC,wBAAyB/B,KAAKqB,OAAOW,UACrC,mBAAoBhC,KAAKiC,cACzB,+BAAgCjC,KAAKkC,aAAajB,kBAItDkB,yBAME,MALkB,CAChBC,MAAO,OACPC,OAAQ,OACRC,MAAO,QAEGtC,KAAKqB,OAAOS,MAG1BS,iBACE,MAAO,CACLC,YAAaxC,KAAKqB,OAAOoB,MACrBzC,KAAK0C,MAAMC,SAAS,UACpB,GACJC,gBAAiB5C,KAAKuB,UAClBvB,KAAK6C,cACL7C,KAAK0C,MAAMC,SAAS,SAI5BG,iBACE,MAAO,CACLC,MAAO/C,KAAKqB,OAAOoB,MAAQzC,KAAK0C,MAAMC,SAAS,UAAY,MArE5ChC,KALpBqC,EAAQ,CACPC,KAAM,WACNC,WAAY,CAAEC,iBAAAA,EAAkBC,eAAAA,GAChCC,MAAO,CAAC,QAAS,OAAQ,wBAEN1C,SAAAA"}