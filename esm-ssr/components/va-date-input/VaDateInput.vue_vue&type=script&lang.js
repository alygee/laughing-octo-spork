import{defineComponent as e,toRefs as t,computed as a,watch as o}from"vue";import{useStateful as r}from"../../mixins/StatefulMixin/cStatefulMixin.js";import{isDates as l,isSingleDate as u,isRange as n}from"../va-date-picker/hooks/model-value-helper.js";import{useSyncProp as i}from"../va-date-picker/hooks/sync-prop.js";import{extractComponentProps as p,filterComponentProps as d}from"../va-date-picker/utils/child-props.js";import{useRangeModelValueGuard as s}from"./hooks/range-model-value-guard.js";import"../va-date-picker/VaDatePicker.vue.js";import m from"../va-input/index.js";import v from"../va-date-picker/VaDatePicker.vue_vue&type=script&lang.js";const c={label:{type:String,required:!1},color:{type:String,default:"primary"},placeholder:{type:String,default:""},clearable:{type:Boolean,default:!1},tabindex:{type:Number,default:0},outline:{Boolean:Boolean,default:!1},bordered:{Boolean:Boolean,default:!1},readonly:{Boolean:Boolean,default:!0}};var f=e({name:"VaDateInput",components:{VaDatePicker:v,VaInput:m},props:{...p(v),...c,resetOnClose:{type:Boolean,default:!0},isOpen:{type:Boolean},format:{type:Function}},emits:["update:modelValue","hover:day","hover:month","update:year","update:month","update:view","click:month","click:day","update:is-open","update:text"],setup(e,{emit:m}){const{isOpen:f,resetOnClose:y}=t(e),{valueComputed:k}=r(e,m),{syncProp:h}=i(f,"is-open",m,!1),D=a((()=>!y.value)),{valueComputed:g,reset:j}=s(k,D);o(h,(e=>{e||D.value||j()}));const x=e=>e?e.toDateString():"...",B=a({get:()=>{if(e.format)return e.format(g.value);if(!g.value)return"";if(l(g.value))return g.value.map((e=>e.toDateString())).join(", ");if(u(g.value))return g.value.toDateString();if(n(g.value))return x(g.value.start)+" ~ "+x(g.value.end);throw new Error("VaDatePicker: Invalid model value. Value should be Date, Date[] or { start: Date, end: Date | null }")},set(e){}});o(B,(e=>m("update:text",e)));return{valueText:B,valueComputed:g,isOpenSync:h,onClear:()=>{g.value=void 0},inputProps:d(e,c),datePickerProps:d(e,p(v))}}});export default f;
//# sourceMappingURL=VaDateInput.vue_vue&type=script&lang.js.map
