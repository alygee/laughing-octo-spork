import{__decorate as e}from"tslib";import{Vue as t,mixins as i,Options as s,prop as a}from"../../node_modules/vue-class-component/dist/vue-class-component.esm-bundler.js";import l from"../../services/color-config/ColorMixin.js";import{FormComponentMixin as r}from"../FormComponent/FormComponentMixin.js";import{StatefulMixin as u}from"../StatefulMixin/StatefulMixin.js";import{LoadingMixin as o}from"../LoadingMixin/LoadingMixin.js";const n=t.with(class{constructor(){this.arrayValue=a({type:[String,Object],default:""}),this.label=a({type:String,default:""}),this.leftLabel=a({type:Boolean,default:!1}),this.trueValue=a({default:!0}),this.falseValue=a({default:!1}),this.indeterminate=a({type:Boolean,default:!1}),this.indeterminateValue=a({type:[Boolean,Array,String,Object],default:null})}});let h=class extends(i(l,u,r,o,n)){created(){this.isSelectableComponent=!0,this.checkDuplicates()}get isChecked(){return this.modelIsArray?this.modelValue&&this.modelValue.includes(this.arrayValue):this.valueComputed===this.trueValue}get isIndeterminate(){return this.valueComputed===this.indeterminateValue}get modelIsArray(){return!!this.arrayValue}reset(){this.$emit("update:modelValue",!1)}checkDuplicates(){const e=[this.falseValue,this.trueValue];this.indeterminate&&e.push(this.indeterminateValue);if(new Set(e).size!==e.length)throw new Error("falseValue, trueValue, indeterminateValue props should have strictly different values, which is not the case.")}onFocus(e){this.$emit("focus",e)}onBlur(e){this.$refs.input!==e.target||this.isElementRelated(e.relatedTarget)||(this.ValidateMixin_onBlur(),this.$emit("blur",e))}isElementRelated(e){return[this.$refs.label,this.$refs.container].includes(e)}onWrapperClick(){this.toggleSelection()}toggleSelection(){this.readonly||this.disabled||this.loading||(this.modelIsArray?this.modelValue?this.modelValue.includes(this.arrayValue)?this.$emit("update:modelValue",this.modelValue.filter((e=>e!==this.arrayValue))):this.$emit("update:modelValue",this.modelValue.concat(this.arrayValue)):this.$emit("update:modelValue",[this.arrayValue]):this.indeterminate?this.isIndeterminate?this.valueComputed=this.trueValue:this.isChecked?this.valueComputed=this.falseValue:this.valueComputed=this.indeterminateValue:this.isChecked?this.valueComputed=this.falseValue:this.valueComputed=this.trueValue)}};h=e([s({emits:["update:modelValue","focus","blur"]})],h);export{h as SelectableMixin};
//# sourceMappingURL=SelectableMixin.js.map
