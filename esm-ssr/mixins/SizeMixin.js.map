{"version":3,"file":"SizeMixin.js","sources":["../../../src/mixins/SizeMixin.ts"],"sourcesContent":["import { mixins, Vue, prop } from 'vue-class-component'\n\nexport const sizesConfig = {\n  defaultSize: 48,\n  sizes: {\n    small: 32,\n    medium: 48,\n    large: 64,\n  },\n}\n\nexport const fontSizesConfig = {\n  defaultSize: 1,\n  sizes: {\n    small: 0.75,\n    medium: 1,\n    large: 1.25,\n  },\n}\n\nclass SizeProps {\n  size = prop<string | number>({\n    type: [String, Number],\n    default: '',\n    validator: (size: string | number) => {\n      return typeof size === 'string' || typeof size === 'number'\n    },\n  })\n\n  sizesConfig = prop<Record<string, any>>({\n    type: Object,\n    default: () => sizesConfig,\n  })\n\n  fontSizesConfig = prop<Record<string, any>>({\n    type: Object,\n    default: () => fontSizesConfig,\n  })\n}\n\nexport class SizeMixin extends mixins(Vue.with(SizeProps)) {\n  fontRegex = /(?<fontSize>\\d+)(?<extension>px|rem)/i\n\n  get sizeComputed (): string {\n    const { defaultSize, sizes } = this.sizesConfig\n\n    if (!this.size) {\n      return `${defaultSize}px`\n    }\n\n    if (typeof this.size === 'string') {\n      return this.size in sizes ? `${sizes[this.size]}px` : this.size\n    }\n\n    return `${this.size}px`\n  }\n\n  get fontSizeComputed (): string {\n    return `${this.SizeMixin_fontSize}rem`\n  }\n\n  // eslint-disable-next-line camelcase\n  get SizeMixin_fontSize (): number {\n    const { defaultSize, sizes } = this.fontSizesConfig\n\n    const convertToRem = (px: number) => px / 16 - 0.5\n\n    if (!this.size) {\n      return defaultSize\n    }\n\n    if (typeof this.size === 'string') {\n      if (this.size in sizes) { return sizes[this.size] }\n\n      const fontSizeParsed = this.size.match(this.fontRegex)\n      if (!fontSizeParsed || !fontSizeParsed.groups) {\n        throw new Error('Size prop should be either valid string or number')\n      }\n\n      const { extension, fontSize } = fontSizeParsed.groups\n      return extension === 'rem' ? +fontSize : convertToRem(+fontSize)\n    }\n\n    return convertToRem(this.size)\n  }\n}\n"],"names":["sizesConfig","defaultSize","sizes","small","medium","large","fontSizesConfig","SizeProps","constructor","this","prop","type","String","Number","default","validator","size","Object","SizeMixin","mixins","Vue","with","sizeComputed","fontSizeComputed","SizeMixin_fontSize","convertToRem","px","fontSizeParsed","match","fontRegex","groups","Error","extension","fontSize"],"mappings":"8HAEaA,EAAc,CACzBC,YAAa,GACbC,MAAO,CACLC,MAAO,GACPC,OAAQ,GACRC,MAAO,KAIEC,EAAkB,CAC7BL,YAAa,EACbC,MAAO,CACLC,MAAO,IACPC,OAAQ,EACRC,MAAO,OAIX,MAAME,EAANC,cACEC,UAAOC,EAAsB,CAC3BC,KAAM,CAACC,OAAQC,QACfC,QAAS,GACTC,UAAYC,GACa,iBAATA,GAAqC,iBAATA,IAI9CP,iBAAcC,EAA0B,CACtCC,KAAMM,OACNH,QAAS,IAAMd,IAGjBS,qBAAkBC,EAA0B,CAC1CC,KAAMM,OACNH,QAAS,IAAMR,WAINY,UAAkBC,EAAOC,EAAIC,KAAKd,KAA/CC,kCACEC,eAAY,wCAEZa,mBACE,MAAMrB,YAAEA,EAAWC,MAAEA,GAAUO,KAAKT,YAEpC,OAAKS,KAAKO,KAIe,iBAAdP,KAAKO,KACPP,KAAKO,QAAQd,EAAQ,GAAGA,EAAMO,KAAKO,UAAYP,KAAKO,KAGtD,GAAGP,KAAKO,SAPN,GAAGf,MAUdsB,uBACE,MAAO,GAAGd,KAAKe,wBAIjBA,yBACE,MAAMvB,YAAEA,EAAWC,MAAEA,GAAUO,KAAKH,gBAE9BmB,EAAgBC,GAAeA,EAAK,GAAK,GAE/C,IAAKjB,KAAKO,KACR,OAAOf,EAGT,GAAyB,iBAAdQ,KAAKO,KAAmB,CACjC,GAAIP,KAAKO,QAAQd,EAAS,OAAOA,EAAMO,KAAKO,MAE5C,MAAMW,EAAiBlB,KAAKO,KAAKY,MAAMnB,KAAKoB,WAC5C,IAAKF,IAAmBA,EAAeG,OACrC,MAAM,IAAIC,MAAM,qDAGlB,MAAMC,UAAEA,EAASC,SAAEA,GAAaN,EAAeG,OAC/C,MAAqB,QAAdE,GAAuBC,EAAWR,GAAcQ,GAGzD,OAAOR,EAAahB,KAAKO"}