{"version":3,"file":"ScrollMixin.js","sources":["../../../../src/mixins/ScrollMixin/ScrollMixin.ts"],"sourcesContent":["import { onMounted, onBeforeUnmount, ref } from 'vue'\n\nfunction getTargetElement (target: Element | string | null) {\n  if (!target) {\n    throw new Error('Cant find target')\n  }\n\n  if (typeof target === 'string') {\n    const targetElement = document.querySelector(target)\n    if (targetElement) {\n      return targetElement\n    }\n  }\n\n  return target as Element\n}\n\nexport function setupScroll (target: Element | string, onScrollCallback: (e?: any) => unknown) {\n  const root = ref(null)\n  let targetElement: Element | null\n\n  onMounted(() => {\n    targetElement = getTargetElement(target || root.value)\n    if (targetElement) {\n      targetElement.addEventListener('scroll', onScrollCallback)\n    }\n  })\n\n  onBeforeUnmount(() => {\n    if (targetElement) {\n      targetElement.removeEventListener('scroll', onScrollCallback)\n    }\n  })\n\n  return root\n}\n"],"names":["setupScroll","target","onScrollCallback","root","ref","targetElement","onMounted","Error","document","querySelector","getTargetElement","value","addEventListener","onBeforeUnmount","removeEventListener"],"mappings":"uEAiBgBA,EAAaC,EAA0BC,GACrD,MAAMC,EAAOC,EAAI,MACjB,IAAIC,EAeJ,OAbAC,GAAU,KACRD,EApBJ,SAA2BJ,GACzB,IAAKA,EACH,MAAM,IAAIM,MAAM,oBAGlB,GAAsB,iBAAXN,EAAqB,CAC9B,MAAMI,EAAgBG,SAASC,cAAcR,GAC7C,GAAII,EACF,OAAOA,EAIX,OAAOJ,EAQWS,CAAiBT,GAAUE,EAAKQ,OAC5CN,GACFA,EAAcO,iBAAiB,SAAUV,MAI7CW,GAAgB,KACVR,GACFA,EAAcS,oBAAoB,SAAUZ,MAIzCC"}