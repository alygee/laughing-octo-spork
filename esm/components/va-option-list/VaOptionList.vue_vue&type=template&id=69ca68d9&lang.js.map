{"version":3,"file":"VaOptionList.vue_vue&type=template&id=69ca68d9&lang.js","sources":["../../../../src/components/va-option-list/VaOptionList.vue?vue&type=template&id=69ca68d9&lang.js"],"sourcesContent":["<template>\n  <va-input-wrapper\n    :error=\"computedError\"\n    :error-messages=\"computedErrorMessages\"\n    :error-count=\"$props.errorCount\"\n  >\n    <ul\n      class=\"va-option-list__list\"\n      :id=\"$props.id\"\n    >\n      <li\n        v-for=\"(option, index) in $props.options\"\n        :key=\"getKey(option)\"\n      >\n        <slot\n          :props=\"{\n            option,\n            isDisabled,\n            name: $props.name,\n            color: $props.color,\n            leftLabel: $props.leftLabel,\n            getText,\n            selectedValue,\n            index\n          }\"\n        >\n          <va-radio\n            v-if=\"$props.type === 'radio'\"\n            ref=\"input\"\n            :option=\"getValue(option)\"\n            :disabled=\"isDisabled(option)\"\n            :name=\"$props.name\"\n            :color=\"$props.color\"\n            :left-label=\"$props.leftLabel\"\n            :label=\"getText(option)\"\n            v-model=\"selectedValue\"\n            :tabindex=\"index\"\n          />\n          <va-checkbox\n            v-else-if=\"$props.type === 'checkbox'\"\n            ref=\"input\"\n            v-model=\"selectedValue\"\n            :label=\"getText(option)\"\n            :disabled=\"isDisabled(option)\"\n            :left-label=\"$props.leftLabel\"\n            :array-value=\"getValue(option)\"\n            :color=\"$props.color\"\n            :name=\"$props.name\"\n          />\n          <va-switch\n            v-else\n            ref=\"input\"\n            v-model=\"selectedValue\"\n            :label=\"getText(option)\"\n            :disabled=\"isDisabled(option)\"\n            :left-label=\"$props.leftLabel\"\n            :array-value=\"getValue(option)\"\n            :color=\"$props.color\"\n            :name=\"$props.name\"\n          />\n        </slot>\n      </li>\n    </ul>\n  </va-input-wrapper>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue, prop, mixins } from 'vue-class-component'\n\nimport { generateUuid } from '../../services/utils'\nimport { SelectableListMixin } from '../../mixins/SelectableList/SelectableListMixin'\nimport { StatefulMixin } from '../../mixins/StatefulMixin/StatefulMixin'\nimport VaRadio from '../va-radio'\nimport VaCheckbox from '../va-checkbox'\nimport VaSwitch from '../va-switch'\nimport { VaInputWrapper } from '../va-input'\n\nclass OptionListProps {\n  type = prop<string>({\n    type: String,\n    default: 'checkbox',\n    validator: (type: any) => ['radio', 'checkbox', 'switch'].includes(type),\n  })\n\n  disabled = prop<boolean>({ type: Boolean, default: false })\n  readonly = prop<boolean>({ type: Boolean, default: false })\n  defaultValue = prop<string | number | Record<string, unknown> | any[]>({ type: [String, Number, Object, Array] })\n  name = prop<string>({ type: String, default: generateUuid })\n  color = prop<string>({ type: String, default: 'primary' })\n  leftLabel = prop<boolean>({ type: Boolean, default: false })\n  modelValue = prop<string | number | Record<string, unknown> | any[]>({ type: [String, Number, Object, Array] })\n}\n\nconst OptionListPropsMixin = Vue.with(OptionListProps)\n\n@Options({\n  name: 'VaOptionList',\n  components: { VaRadio, VaCheckbox, VaSwitch, VaInputWrapper },\n})\nexport default class VaOptionList extends mixins(\n  SelectableListMixin,\n  StatefulMixin,\n  OptionListPropsMixin,\n) {\n  get isRadio () {\n    return this.$props.type === 'radio'\n  }\n\n  get selectedValue () {\n    const value = this.isRadio ? null : []\n    return this.valueComputed || this.$props.defaultValue || value\n  }\n\n  set selectedValue (value) {\n    if (this.$props.readonly) {\n      return\n    }\n    if (this.isRadio) {\n      this.valueComputed = this.getValue(value)\n    } else {\n      this.valueComputed = Array.isArray(value)\n        ? value.map(el => this.getValue(el))\n        : [this.getValue(value)]\n    }\n  }\n\n  getKey (option: any) {\n    return this.getTrackBy(option)\n  }\n\n  isDisabled (option: any) {\n    return this.$props.disabled || this.getDisabled(option)\n  }\n\n  reset () {\n    this.valueComputed = undefined\n  }\n\n  focus () {\n    const elements = (this as any).$refs.input\n    const firstActiveEl = Array.isArray(elements) && elements.find(el => !el.disabled)\n    if (firstActiveEl && typeof firstActiveEl.focus === 'function') {\n      firstActiveEl.focus()\n    }\n  }\n\n  mounted () {\n    this.isSelectableListComponent = true\n    if (!this.valueComputed && this.$props.defaultValue) {\n      this.selectedValue = this.$props.defaultValue\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n\n.va-option-list {\n  &__list {\n    line-height: var(--va-option-list-line-height);\n  }\n}\n</style>\n"],"names":["_createBlock","error","_ctx","errorCount","_createVNode","class","id","options","option","index","key","_renderSlot","props","type","ref","disabled","name","color","leftLabel","label","tabindex"],"mappings":"gQACEA,KACGC,MAAOC,gBACP,iBAAgBA,wBAChB,cAAaA,SAAOC,wBAErB,KAAAC,QACEC,MAAM,uBACLC,GAAIJ,SAAOI,YAEZN,WAC4BE,SAAOK,UAAzBC,EAAQC,SADlBT,QAEGU,IAAKR,SAAOM,KAEbG,sBACGC,wKADH,eAaUV,SAAOW,UADfb,WAEEc,IAAI,QACHN,OAAQN,WAASM,GACjBO,SAAUb,aAAWM,GACrBQ,KAAMd,SAAOc,KACbC,MAAOf,SAAOe,MACd,aAAYf,SAAOgB,UACnBC,MAAOjB,UAAQM,cACPN,qDAAAA,mBACRkB,SAAUX,2GAGAP,SAAOW,UADpBb,WAEEc,IAAI,mBACKZ,qDAAAA,mBACRiB,MAAOjB,UAAQM,GACfO,SAAUb,aAAWM,GACrB,aAAYN,SAAOgB,UACnB,cAAahB,WAASM,GACtBS,MAAOf,SAAOe,MACdD,KAAMd,SAAOc,gGAEhBhB,WAEEc,IAAI,mBACKZ,qDAAAA,mBACRiB,MAAOjB,UAAQM,GACfO,SAAUb,aAAWM,GACrB,aAAYN,SAAOgB,UACnB,cAAahB,WAASM,GACtBS,MAAOf,SAAOe,MACdD,KAAMd,SAAOc"}