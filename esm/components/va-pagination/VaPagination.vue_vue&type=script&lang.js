import{__decorate as t,__metadata as e}from"tslib";import{watch as s}from"vue";import{Vue as i,mixins as o,Options as a,prop as r}from"../../node_modules/vue-class-component/dist/vue-class-component.esm-bundler.js";import{Ref as n}from"../../utils/decorators.js";import u from"../../services/color-config/ColorMixin.js";import{StatefulMixin as l}from"../../mixins/StatefulMixin/StatefulMixin.js";import p from"../va-button-group/index.js";import h from"../va-button/index.js";import c from"../va-input/index.js";import{setPaginationRange as g}from"./setPaginationRange.js";const d=i.with(class{constructor(){this.modelValue=r({type:Number,default:1}),this.visiblePages=r({type:Number,default:0}),this.pages=r({type:Number,default:0}),this.disabled=r({type:Boolean,default:!1}),this.color=r({type:String,default:"primary"}),this.size=r({type:String,default:"medium",validator:t=>["medium","small","large"].includes(t)}),this.boundaryLinks=r({type:Boolean,default:!0}),this.boundaryNumbers=r({type:Boolean,default:!1}),this.directionLinks=r({type:Boolean,default:!0}),this.input=r({type:Boolean,default:!1}),this.hideOnSinglePage=r({type:Boolean,default:!1}),this.flat=r({type:Boolean,default:!1}),this.total=r({type:Number,default:null}),this.pageSize=r({type:Number,default:null}),this.boundaryIconLeft=r({type:String,default:"first_page"}),this.boundaryIconRight=r({type:String,default:"last_page"}),this.directionIconLeft=r({type:String,default:"chevron_left"}),this.directionIconRight=r({type:String,default:"chevron_right"})}});let m=class extends(o(l,u,d)){constructor(){super(...arguments),this.inputValue=""}created(){s([()=>this.useTotal,()=>this.$props.pages],(()=>{if(this.useTotal&&this.$props.pages&&"production"!==process.env.NODE_ENV)throw new Error("Please, use either `total` and `page-size` props, or `pages`.")}))}get lastPage(){const{total:t,pageSize:e,pages:s}=this.$props;return this.useTotal?Math.ceil(t/e)||1:s}get paginationRange(){const{visiblePages:t,total:e,pageSize:s,boundaryNumbers:i,pages:o}=this.$props,a=this.currentValue||1,r=this.useTotal?Math.ceil(e/s):o;return g(a,t,r,i)}get showBoundaryLinks(){const{visiblePages:t,boundaryLinks:e,boundaryNumbers:s,input:i}=this.$props;return i||t&&this.lastPage>t&&e&&!s}get showDirectionLinks(){const{visiblePages:t,directionLinks:e,input:s}=this.$props;return s||t&&this.lastPage>t&&e}get showPagination(){return this.lastPage>1||!this.$props.hideOnSinglePage&&this.lastPage<=1}get fontColor(){return this.computeColor(this.$props.color)}get useTotal(){const{total:t,pageSize:e}=this.$props;return!(!t&&0!==t||!e)}get currentValue(){return this.useTotal?Math.ceil(this.valueComputed/this.$props.pageSize)||1:this.valueComputed}set currentValue(t){this.valueComputed=t}focusInput(){const{currentValue:t,$nextTick:e}=this;this.inputValue=t,e((()=>this.htmlInput.setSelectionRange(0,this.htmlInput.value.length)))}onUserInput(t){t<1||t>this.lastPage||(this.currentValue=this.useTotal?(t-1)*this.$props.pageSize+1:t)}resetInput(){this.inputValue="",this.htmlInput.blur()}changeValue(){if(this.inputValue===this.currentValue&&this.resetInput(),!this.inputValue.length)return;let t=Number.parseInt(this.inputValue);switch(!0){case t<1:t=1;break;case t>this.lastPage:t=this.lastPage;break;case isNaN(t):t=this.currentValue}this.onUserInput(t),this.resetInput()}activeButtonStyle(t){return t===this.currentValue?{backgroundColor:this.colorComputed,color:"#ffffff"}:{color:this.fontColor}}};t([n(),e("design:type",HTMLInputElement)],m.prototype,"htmlInput",void 0),m=t([a({name:"VaPagination",components:{VaButtonGroup:p,VaButton:h,VaInput:c}})],m);var f=m;export default f;
//# sourceMappingURL=VaPagination.vue_vue&type=script&lang.js.map
