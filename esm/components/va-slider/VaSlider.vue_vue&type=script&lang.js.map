{"version":3,"file":"VaSlider.vue_vue&type=script&lang.js","sources":["../../../../src/components/va-slider/VaSlider.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-slider\"\n    :class=\"sliderClass\"\n  >\n    <div\n      class=\"va-slider__input-wrapper\"\n      v-if=\"vertical ? $slots.append : $slots.prepend\"\n    >\n      <slot :name=\"vertical ? 'append' : 'prepend'\" />\n    </div>\n    <span\n      v-if=\"($slots.label || label) && !invertLabel\"\n      :style=\"labelStyles\"\n      class=\"va-input__label\"\n    >\n      <slot name=\"label\">\n        {{ label }}\n      </slot>\n    </span>\n    <span\n      v-if=\"vertical ? iconAppend : iconPrepend\"\n      class=\"va-input__label\"\n    >\n      <va-icon\n        :name=\"vertical ? iconAppend : iconPrepend\"\n        :color=\"colorComputed\"\n        :size=\"16\"\n      />\n    </span>\n    <div\n      class=\"va-slider__container\"\n      ref=\"sliderContainer\"\n      @mousedown=\"clickOnContainer\"\n      @mouseup=\"hasMouseDown = false\"\n    >\n      <div\n        class=\"va-slider__track\"\n        :style=\"trackStyles\"\n      />\n      <template v-if=\"pins\">\n        <div\n          v-for=\"(pin, key) in pinsCol\"\n          :key=\"key\"\n          class=\"va-slider__mark\"\n          :class=\"{ 'va-slider__mark--active': checkActivePin(pin) }\"\n          :style=\"getPinStyles(pin)\"\n        />\n      </template>\n      <template v-if=\"isRange\">\n        <div\n          ref=\"process\"\n          class=\"va-slider__track va-slider__track--selected\"\n          :class=\"{'va-slider__track--active': isFocused}\"\n          :style=\"processedStyles\"\n          @mousedown=\"moveStart($event, null)\"\n        />\n        <div\n          v-for=\"order in (this.vertical ? [1, 0] : [0, 1])\"\n          :key=\"'dot' + order\"\n          :ref=\"'dot' + order\"\n          class=\"va-slider__handler\"\n          :class=\"dotClass[order]\"\n          :style=\"dottedStyles[order]\"\n          @mousedown=\"(moveStart($event, order), setMouseDown($event, order + 1))\"\n          @touchstart=\"moveStart($event, order)\"\n          @focus=\"isFocused = true, currentSliderDotIndex = order\"\n          @blur=\"isFocused = false\"\n          :tabindex=\"(!disabled && !readonly) && 0\"\n        >\n          <div\n            v-if=\"isActiveDot(order)\"\n            :style=\"{ backgroundColor: colorComputed }\"\n            class=\"va-slider__handler__dot--focus\"\n          />\n          <div\n            v-if=\"trackLabelVisible\"\n            :style=\"labelStyles\"\n            class=\"va-slider__handler__dot--value\"\n          >\n            {{ val[order] }}\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        <div\n          ref=\"process\"\n          class=\"va-slider__track va-slider__track--selected\"\n          :class=\"{'va-slider__track--active': isFocused}\"\n          :style=\"processedStyles\"\n          @mousedown=\"moveStart($event, 0)\"\n        />\n        <div\n          ref=\"dot\"\n          class=\"va-slider__handler\"\n          :class=\"dotClass\"\n          :style=\"dottedStyles\"\n          @mousedown=\"(moveStart($event), setMouseDown($event))\"\n          @touchstart=\"(moveStart($event), setMouseDown($event))\"\n          @focus=\"isFocused = true\"\n          @blur=\"isFocused = false\"\n          :tabindex=\"(!this.disabled && !this.readonly) && 0\"\n        >\n          <div\n            v-if=\"isActiveDot(0)\"\n            class=\"va-slider__handler__dot--focus\"\n            :style=\"{ backgroundColor: colorComputed }\"\n          />\n          <div\n            v-if=\"trackLabelVisible\"\n            :style=\"labelStyles\"\n            class=\"va-slider__handler__dot--value\"\n          >\n            {{ trackLabel || val }}\n          </div>\n        </div>\n      </template>\n    </div>\n    <span\n      v-if=\"vertical ? iconPrepend : iconAppend\"\n      class=\"va-input__label--inverse\"\n    >\n      <va-icon\n        :name=\"vertical ? iconPrepend : iconAppend\"\n        :color=\"colorComputed\"\n        :size=\"16\"\n      />\n    </span>\n    <span\n      v-if=\"($slots.label || label) && invertLabel\"\n      :style=\"labelStyles\"\n      class=\"va-input__label va-input__label--inverse\"\n    >\n      <slot name=\"label\">\n        {{ label }}\n      </slot>\n    </span>\n    <div\n      class=\"va-slider__input-wrapper\"\n      v-if=\"vertical ? $slots.prepend : $slots.append\"\n    >\n      <slot :name=\"vertical ? 'prepend' : 'append'\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { watch } from 'vue'\nimport { Options, mixins, Vue, prop, setup } from 'vue-class-component'\n\nimport { Ref } from '../../utils/decorators'\nimport ColorMixin from '../../services/color-config/ColorMixin'\nimport { getHoverColor } from '../../services/color-config/color-functions'\nimport { validateSlider } from './validateSlider'\nimport VaIcon from '../va-icon'\n\nclass SliderProps {\n  range = prop<boolean>({ type: Boolean, default: false })\n  modelValue = prop<number | number[]>({\n    type: [Number, Array],\n    default: () => [],\n  })\n  trackLabel = prop<string>({ type: String, default: '' })\n  color = prop<string>({ type: String, default: 'primary' })\n  trackColor = prop<string>({ type: String, default: '' })\n  labelColor = prop<string>({ type: String, default: '' })\n  trackLabelVisible = prop<boolean>({ type: Boolean, default: false })\n  min = prop<number>({ type: Number, default: 0 })\n  max = prop<number>({ type: Number, default: 100 })\n  step = prop<number>({ type: Number, default: 1 })\n  label = prop<string>({ type: String, default: '' })\n  invertLabel = prop<boolean>({ type: Boolean, default: false })\n  disabled = prop<boolean>({ type: Boolean, default: false })\n  readonly = prop<boolean>({ type: Boolean, default: false })\n  pins = prop<boolean>({ type: Boolean, default: false })\n  iconPrepend = prop<string>({ type: String, default: '' })\n  iconAppend = prop<string>({ type: String, default: '' })\n  vertical = prop<boolean>({ type: Boolean, default: false })\n  showTrack = prop<boolean>({ type: Boolean, default: true })\n}\n\nconst SliderPropsMixin = Vue.with(SliderProps)\n\n@Options({\n  name: 'VaSlider',\n  components: { VaIcon },\n  emits: ['drag-start', 'drag-end', 'change', 'update:modelValue'],\n})\nexport default class VaSlider extends mixins(\n  ColorMixin,\n  SliderPropsMixin,\n) {\n  @Ref('dot') readonly dot!: HTMLElement\n  @Ref('dot0') readonly dot0!: HTMLElement\n  @Ref('dot1') readonly dot1!: HTMLElement\n  @Ref('sliderContainer') readonly sliderContainer!: HTMLElement\n\n  isFocused = false\n  flag = false\n  size = 0\n  currentValue = this.modelValue\n  currentSliderDotIndex = 0\n  isComponentExists = false\n  hasMouseDown = false\n\n  context = setup(() => {\n    watch([\n      () => this.val,\n      () => this.$props.step,\n      () => this.$props.min,\n      () => this.$props.max,\n    ], ([value, step, min, max]) => {\n      // @ts-ignore\n      validateSlider(value, step, min, max)\n    })\n\n    watch(() => this.hasMouseDown, (hasMouseDown) => {\n      if (hasMouseDown) {\n        document.documentElement.style.cursor = 'grabbing'\n      } else {\n        document.documentElement.style.cursor = ''\n      }\n    })\n\n    return {}\n  })\n\n  get pinPositionStyle (): 'bottom' | 'left' {\n    return this.vertical ? 'bottom' : 'left'\n  }\n\n  get trackSizeStyle (): 'height' | 'width' {\n    return this.vertical ? 'height' : 'width'\n  }\n\n  get moreToLess () {\n    // @ts-ignore\n    return this.val[1] - this.step < this.val[0]\n  }\n\n  get lessToMore () {\n    // @ts-ignore\n    return this.val[0] + this.step > this.val[1]\n  }\n\n  get sliderClass () {\n    return {\n      'va-slider--active': this.isFocused,\n      'va-slider--disabled': this.disabled,\n      'va-slider--readonly': this.readonly,\n      'va-slider--horizontal': !this.vertical,\n      'va-slider--vertical': this.vertical,\n    }\n  }\n\n  get dotClass () {\n    if (this.range) {\n      return [\n        { 'va-slider__handler--inactive': !this.isFocused },\n        { 'va-slider__handler--inactive': !this.isFocused },\n      ]\n    }\n\n    return {\n      'va-slider__handler--on-focus': !this.range && (this.flag || this.isFocused),\n      'va-slider__handler--inactive': !this.isFocused,\n    }\n  }\n\n  get labelStyles () {\n    return {\n      color: this.labelColor ? this.computeColor(this.labelColor) : this.colorComputed,\n    }\n  }\n\n  get trackStyles () {\n    return {\n      backgroundColor: this.trackColor\n        ? this.computeColor(this.trackColor)\n        : getHoverColor(this.colorComputed),\n    }\n  }\n\n  get processedStyles () {\n    const validatedValue = this.limitValue(this.modelValue)\n\n    if (this.range) {\n      const val0 = ((validatedValue[0] - this.min) / (this.max - this.min)) * 100\n      const val1 = ((validatedValue[1] - this.min) / (this.max - this.min)) * 100\n\n      return {\n        [this.pinPositionStyle]: `${val0}%`,\n        [this.trackSizeStyle]: `${val1 - val0}%`,\n        backgroundColor: this.colorComputed,\n        visibility: this.showTrack ? 'visible' : 'hidden',\n      }\n    } else {\n      const val = ((validatedValue - this.min) / (this.max - this.min)) * 100\n\n      return {\n        [this.trackSizeStyle]: `${val}%`,\n        backgroundColor: this.colorComputed,\n        visibility: this.showTrack ? 'visible' : 'hidden',\n      }\n    }\n  }\n\n  get dottedStyles () {\n    const validatedValue = this.limitValue(this.modelValue)\n\n    if (this.range) {\n      const val0 = ((validatedValue[0] - this.min) / (this.max - this.min)) * 100\n      const val1 = ((validatedValue[1] - this.min) / (this.max - this.min)) * 100\n\n      return [\n        {\n          [this.pinPositionStyle]: `${val0}%`,\n          backgroundColor: this.isActiveDot(0) ? this.colorComputed : '#ffffff',\n          borderColor: this.colorComputed,\n        },\n        {\n          [this.pinPositionStyle]: `${val1}%`,\n          backgroundColor: this.isActiveDot(1) ? this.colorComputed : '#ffffff',\n          borderColor: this.colorComputed,\n        },\n      ]\n    } else {\n      const val = ((validatedValue - this.min) / (this.max - this.min)) * 100\n\n      return {\n        [this.pinPositionStyle]: `${val}%`,\n        backgroundColor: this.isActiveDot(0) ? this.colorComputed : '#ffffff',\n        borderColor: this.colorComputed,\n      }\n    }\n  }\n\n  get val ():any {\n    return this.$props.modelValue\n  }\n\n  set val (val) {\n    if (!this.range) {\n      val = this.limitValue(val)\n    }\n    if (!this.flag) {\n      this.$emit('change', val)\n    }\n    this.$emit('update:modelValue', val)\n  }\n\n  get total () {\n    return (this.max - this.min) / this.step\n  }\n\n  get gap () {\n    return this.size / this.total\n  }\n\n  get multiple () {\n    const decimals = `${this.step}`.split('.')[1]\n    return decimals ? Math.pow(10, decimals.length) : 1\n  }\n\n  get interval () {\n    // @ts-ignore\n    return this.modelValue[1] - this.modelValue[0]\n  }\n\n  get pinsCol () {\n    return (this.max / this.step) - 1\n  }\n\n  get position (): any {\n    // @ts-ignore\n    return this.isRange ? [(this.modelValue[0] - this.min) / this.step * this.gap, (this.modelValue[1] - this.min) / this.step * this.gap] : ((this.modelValue - this.min) / this.step * this.gap)\n  }\n\n  get limit () {\n    return [0, this.size]\n  }\n\n  get valueLimit () {\n    return [this.min, this.max]\n  }\n\n  get isRange () {\n    return Array.isArray(this.modelValue)\n  }\n\n  get propsForValidation () {\n    return {\n      value: this.val,\n      step: this.step,\n      min: this.min,\n      max: this.max,\n    }\n  }\n\n  bindEvents () {\n    document.addEventListener('mousemove', this.moving)\n    document.addEventListener('touchmove', this.moving)\n    document.addEventListener('mouseup', this.moveEnd)\n    document.addEventListener('mouseleave', this.moveEnd)\n    document.addEventListener('touchcancel', this.moveEnd)\n    document.addEventListener('touchend', this.moveEnd)\n    document.addEventListener('keydown', this.moveWithKeys)\n  }\n\n  unbindEvents () {\n    document.removeEventListener('mousemove', this.moving)\n    document.removeEventListener('touchmove', this.moving)\n    document.removeEventListener('mouseup', this.moveEnd)\n    document.removeEventListener('mouseleave', this.moveEnd)\n    document.removeEventListener('touchcancel', this.moveEnd)\n    document.removeEventListener('touchend', this.moveEnd)\n    document.removeEventListener('keydown', this.moveWithKeys)\n  }\n\n  isActiveDot (index: number) {\n    if ((!this.isFocused && !this.flag) || this.disabled || this.readonly) {\n      return false\n    }\n\n    return this.range ? this.currentSliderDotIndex === index : this.currentSliderDotIndex === 0\n  }\n\n  setMouseDown (e: Event, index: number = this.currentSliderDotIndex) {\n    if (!this.readonly && !this.disabled) {\n      this.hasMouseDown = Boolean(index) || true\n    }\n  }\n\n  moveStart (e: Event, index: number = this.currentSliderDotIndex) {\n    if (!index) {\n      if (!this.range) {\n        index = 0\n      } else {\n        const pos = this.getPos(e)\n        index = pos > ((this.position[1] - this.position[0]) / 2 + this.position[0]) ? 1 : 0\n      }\n    }\n\n    if (this.isRange) {\n      this.currentSliderDotIndex = index\n    }\n\n    this.flag = true\n    this.$emit('drag-start')\n  }\n\n  moving (e: any) {\n    if (!this.hasMouseDown) {\n      return\n    }\n    if (!this.disabled && !this.readonly) {\n      if (!this.flag) {\n        return false\n      }\n\n      if (e.type === 'touchmove') {\n        this.setValueOnPos(this.getPos(e.touches[0]))\n      } else {\n        e.preventDefault()\n        this.setValueOnPos(this.getPos(e))\n      }\n    }\n  }\n\n  moveEnd () {\n    if (!this.disabled && !this.readonly) {\n      if (this.flag) {\n        this.$emit('drag-end')\n        // @ts-ignore\n        this.$emit('change', this.range ? Array.from(this.modelValue) : this.modelValue)\n      } else {\n        return false\n      }\n      this.flag = false\n      this.hasMouseDown = false\n    }\n  }\n\n  moveWithKeys (event: any) {\n    // don't do anything if a dot isn't focused or if the slider's disabled or readonly\n    // @ts-ignore\n    if (![this.dot0, this.dot1, this.dot].includes(document.activeElement as any)) {\n      return\n    }\n    if (this.disabled || this.readonly) {\n      return\n    }\n\n    /*\n      where: where to move\n        0 - to left\n        1 - to right\n\n      which: which dot to move (only makes sense when isRange is true)\n        0 - left dot\n        1 - right dot\n      */\n    const moveDot = (isRange: boolean, where: number, which: number) => {\n      if (isRange) {\n        // @ts-ignore\n        if (!this.pins) {\n          return this.val.splice(which, 1, this.val[which] + (where ? this.step : -this.step))\n        }\n\n        // how many value units one pin occupies\n        const onePinInterval = (this.max - this.min) / (this.pinsCol + 1)\n        // how many full pins are to the left of the dot now\n        // @ts-ignore\n        const fullPinsNow = this.val[which] / onePinInterval | 0\n        // the value of the nearest pin\n        let nearestPinVal = fullPinsNow * onePinInterval\n\n        // @ts-ignore\n        if (this.val[which] !== nearestPinVal) { // if the dot's not pinned already\n          nearestPinVal += where ? onePinInterval : 0 // take one more pin if moving right\n          // @ts-ignore\n          this.val.splice(which, 1, nearestPinVal)\n        } else {\n          // @ts-ignore\n          this.val.splice(which, 1, this.val[which] + (where ? this.step : -this.step))\n        }\n      } else {\n        if (!this.pins) {\n          // @ts-ignore\n          this.val += where ? this.step : -this.step\n          return\n        }\n\n        // how many value units one pin occupies\n        const onePinInterval = (this.max - this.min) / (this.pinsCol + 1)\n        // how many full pins are to the left of the dot now\n        // @ts-ignore\n        const fullPinsNow = this.val / onePinInterval | 0\n        // the value of the nearest pin\n        let nearestPinVal = fullPinsNow * onePinInterval\n\n        if (this.val !== nearestPinVal) { // if the dot's not pinned already\n          nearestPinVal += where ? onePinInterval : 0 // take one more pin if moving right\n          this.val = nearestPinVal\n        } else {\n          this.val += where ? this.step : -this.step\n        }\n      }\n    }\n\n    const arrowKeyCodes = [37, 38, 39, 40] // LEFT, UP, RIGHT, DOWN\n    const [CODE_LEFT, CODE_UP, CODE_RIGHT, CODE_DOWN] = arrowKeyCodes\n    // prevent page scroll\n    if (arrowKeyCodes.indexOf(event.keyCode) !== -1) {\n      event.preventDefault()\n    }\n\n    if (this.range) {\n      const isVerticalDot0More = (event: any) =>\n        this.vertical && this.dot0 === document.activeElement && event.keyCode === CODE_UP\n      const isVerticalDot0Less = (event: any) => this.vertical && this.dot0 === document.activeElement && event.keyCode === CODE_DOWN\n      const isVerticalDot1More = (event: any) => this.vertical && this.dot1 === document.activeElement && event.keyCode === CODE_UP\n      const isVerticalDot1Less = (event: any) => this.vertical && this.dot1 === document.activeElement && event.keyCode === CODE_DOWN\n      const isHorizontalDot0Less = (event: any) =>\n        !this.vertical && this.dot0 === document.activeElement && event.keyCode === CODE_LEFT\n      const isHorizontalDot0More = (event: any) =>\n        !this.vertical && this.dot0 === document.activeElement && event.keyCode === CODE_RIGHT\n      const isHorizontalDot1Less = (event: any) =>\n        !this.vertical && this.dot1 === document.activeElement && event.keyCode === CODE_LEFT\n      const isHorizontalDot1More = (event: any) =>\n        !this.vertical && this.dot1 === document.activeElement && event.keyCode === CODE_RIGHT\n\n      switch (true) {\n        // @ts-ignore\n      case (isVerticalDot1Less(event) || isHorizontalDot1Less(event)) && this.moreToLess && this.val[0] !== this.min:\n          // @ts-ignore\n        this.dot0.focus()\n        moveDot(true, 0, 0)\n        break\n        // @ts-ignore\n      case (isVerticalDot0More(event) || isHorizontalDot0More(event)) && this.lessToMore && this.val[1] !== this.max:\n          // @ts-ignore\n        this.dot0.focus()\n        moveDot(true, 1, 1)\n        break\n        // @ts-ignore\n      case (isVerticalDot0Less(event) || isHorizontalDot0Less(event)) && this.val[0] !== this.min:\n        moveDot(true, 0, 0)\n        break\n        // @ts-ignore\n      case (isVerticalDot1More(event) || isHorizontalDot1More(event)) && this.val[1] !== this.max:\n        moveDot(true, 1, 1)\n        break\n        // @ts-ignore\n      case (isVerticalDot1Less(event) || isHorizontalDot1Less(event)) && this.val[1] !== this.min:\n        moveDot(true, 0, 1)\n        break\n        // @ts-ignore\n      case (isVerticalDot0More(event) || isHorizontalDot0More(event)) && this.val[0] !== this.max:\n        moveDot(true, 1, 0)\n        break\n      default:\n        break\n      }\n    } else {\n      if (this.vertical) {\n        if (event.keyCode === CODE_DOWN) {\n          moveDot(false, 0, 0)\n        }\n        if (event.keyCode === CODE_UP) {\n          moveDot(false, 1, 0)\n        }\n      } else {\n        if (event.keyCode === CODE_LEFT) {\n          moveDot(false, 0, 0)\n        }\n        if (event.keyCode === CODE_RIGHT) {\n          moveDot(false, 1, 0)\n        }\n      }\n    }\n  }\n\n  // wrapClick (e) {\n  //   if (!this.disabled && !this.readonly && !this.flag) {\n  //     const pos = this.getPos(e)\n  //     if (this.isRange) {\n  //       this.currentSliderDotIndex = pos > ((this.position[1] - this.position[0]) / 2 + this.position[0]) ? 1 : 0\n  //     }\n  //     this.setValueOnPos(pos)\n  //     if (this.pins) {\n  //       if (this.isRange) {\n  //         if (this.currentValue[0] % this.step !== 0) {\n  //           this.currentValue[0] = this.normalizeValue(this.currentValue[0])\n  //           this.val = [this.currentValue[0], this.val[1]]\n  //         }\n  //         if (this.currentValue[1] % this.step !== 0) {\n  //           this.currentValue[1] = this.normalizeValue(this.currentValue[1])\n  //           this.val = [this.val[0], this.currentValue[1]]\n  //         }\n  //       } else {\n  //         this.currentValue = this.normalizeValue(this.currentValue)\n  //         this.val = this.currentValue\n  //       }\n  //     }\n  //   }\n  // },\n\n  checkActivePin (pin: number) {\n    if (this.isRange) {\n      // @ts-ignore\n      return pin * this.step > this.val[0] && pin * this.step < this.val[1]\n    } else {\n      // @ts-ignore\n      return pin * this.step < this.val\n    }\n  }\n\n  getPinStyles (pin: number) {\n    return {\n      backgroundColor: this.checkActivePin(pin) ? this.colorComputed : getHoverColor(this.colorComputed),\n      [this.pinPositionStyle]: `${pin * this.step}%`,\n      transition: this.hasMouseDown ? 'none' : 'background-color .3s ease-out .1s',\n    }\n  }\n\n  getPos (e: any) {\n    this.getStaticData()\n    // @ts-ignore\n    return this.vertical ? this.offset - e.clientY : e.clientX - this.offset\n  }\n\n  getStaticData () {\n    if (this.sliderContainer) {\n      this.size = this.sliderContainer[this.vertical ? 'offsetHeight' : 'offsetWidth']\n      // @ts-ignore\n      this.offset = (this.sliderContainer.getBoundingClientRect() as Record<string, any>)[this.pinPositionStyle]\n    }\n  }\n\n  getValueByIndex (index: number) {\n    return ((this.step * this.multiple) * index + (this.min * this.multiple)) / this.multiple\n  }\n\n  setCurrentValue (val: any) {\n    const slider = this.currentSliderDotIndex\n    if (this.isRange) {\n      // @ts-ignore\n      if (this.isDiff(this.currentValue[slider], val)) {\n        // @ts-ignore\n        this.currentValue.splice(slider, 1, val)\n        if (slider === 0) {\n          // @ts-ignore\n          this.val = [this.currentValue.splice(slider, 1, val)[0], this.modelValue[1]]\n          this.currentValue = [...this.val]\n        } else {\n          // @ts-ignore\n          this.val = [this.modelValue[0], this.currentValue.splice(slider, 1, val)[0]]\n          this.currentValue = [...this.val]\n        }\n      }\n    } else {\n      if (val < this.min || val > this.max) {\n        return false\n      }\n      if (this.isDiff(this.currentValue, val)) {\n        this.currentValue = val\n        this.val = val\n      }\n    }\n  }\n\n  setValueOnPos (pixelPosition: any) {\n    const range = this.limit\n    const valueRange = this.valueLimit\n\n    // this.setTransform()\n\n    // set focus on current thumb\n    const dotToFocus = this.isRange ? (this.currentSliderDotIndex ? this.dot1 : this.dot0) : this.dot\n    dotToFocus.focus()\n\n    if (pixelPosition >= range[0] && pixelPosition <= range[1]) {\n      if (this.currentSliderDotIndex) {\n        if (pixelPosition <= this.position[0]) {\n          // @ts-ignore\n          this.val[1] = this.val[0]\n          this.currentSliderDotIndex = 0\n        }\n        const v = this.getValueByIndex(Math.round(pixelPosition / this.gap))\n        this.setCurrentValue(v)\n      } else {\n        if (pixelPosition >= this.position[1]) {\n          // @ts-ignore\n          this.val[0] = this.val[1]\n          this.currentSliderDotIndex = 1\n        }\n        const v = this.getValueByIndex(Math.round(pixelPosition / this.gap))\n        this.setCurrentValue(v)\n      }\n    } else if (pixelPosition < range[0]) {\n      this.setCurrentValue(valueRange[0])\n    } else {\n      this.setCurrentValue(valueRange[1])\n    }\n  }\n\n  // setTransform () {\n  //   if (this.isRange) {\n  //     const slider = this.currentSliderDotIndex\n  //     const difference = 100 / (this.max - this.min)\n  //     const val0 = (this.value[0] - this.min) * difference\n  //     const processPosition = `${val0}%`\n\n  //     if (slider === 0) {\n  //       this.dot0.style[this.pinPositionStyle] = `calc(${processPosition} - 8px)`\n  //       this.dot0.focus()\n  //     } else {\n  //       this.dot1.style[this.pinPositionStyle] = `calc(${processPosition} - 8px)`\n  //       this.dot1.focus()\n  //     }\n  //   } else {\n  //     const val = ((this.value - this.min) / (this.max - this.min)) * 100\n\n  //     this.dot.style[this.pinPositionStyle] = `calc(${val} - 8px)`\n  //     this.dot.focus()\n  //   }\n  // }\n\n  // normalizeValue (value: any) {\n  //   const currentRest = value % this.step\n  //   if ((currentRest / this.step) >= 0.5) {\n  //     value = value + (this.step - currentRest)\n  //   } else {\n  //     value = value - currentRest\n  //   }\n  //   return value\n  // }\n\n  limitValue (val: any) {\n    const inRange = (v: any) => {\n      if (v < this.min) {\n        return this.min\n      } else if (v > this.max) {\n        return this.max\n      }\n      return v\n    }\n\n    if (this.isRange) {\n      if (val[0] >= val[1] && this.currentSliderDotIndex === 0) {\n        const v = inRange(val[1])\n        return [v, v]\n      }\n      if (val[0] >= val[1] && this.currentSliderDotIndex === 1) {\n        const v = inRange(val[0])\n        return [v, v]\n      }\n      return val.map((v: any) => inRange(v))\n    } else {\n      return inRange(val)\n    }\n  }\n\n  isDiff (a: any, b: any) {\n    return JSON.stringify(a) !== JSON.stringify(b)\n  }\n\n  clickOnContainer (e: any) {\n    if (this.disabled || this.readonly) {\n      return\n    }\n    const pos = this.getPos(e)\n    if (this.isRange) {\n      this.currentSliderDotIndex = pos > ((this.position[1] - this.position[0]) / 2 + this.position[0]) ? 1 : 0\n    }\n    this.setMouseDown(e, this.currentSliderDotIndex)\n    this.setValueOnPos(pos)\n    this.moveStart(e, this.currentSliderDotIndex)\n  }\n\n  mounted () {\n    this.$nextTick(() => {\n      if (validateSlider(this.modelValue, this.step, this.min, this.max)) {\n        this.getStaticData()\n        this.bindEvents()\n      }\n    })\n  }\n\n  beforeUnmount () {\n    this.unbindEvents()\n  }\n}\n</script>\n\n<style lang='scss'>\n@import \"../../styles/resources/resources\";\n@import 'variables';\n\n.va-slider {\n  display: var(--va-slider-display);\n  align-items: var(--va-slider-align-items);\n\n  &__input-wrapper {\n    position: var(--va-slider-input-wrapper-position);\n    display: var(--va-slider-input-wrapper-display);\n  }\n\n  &__container {\n    position: relative;\n    display: flex;\n    align-items: center;\n    cursor: grab;\n  }\n\n  &__track {\n    position: var(--va-slider-track-position);\n    border-radius: var(--va-slider-track-border-radius);\n    transition: var(--va-slider-track-transition);\n    opacity: var(--va-slider-track-opacity);\n\n    &--active {\n      transition: 0s;\n    }\n  }\n\n  &__track--selected {\n    opacity: 1;\n  }\n\n  &__handler {\n    position: var(--va-slider-handler-position);\n    width: var(--va-slider-handler-width);\n    height: var(--va-slider-handler-height);\n    background: var(--va-slider-handler-background);\n    border: var(--va-slider-handler-border);\n    border-radius: var(--va-slider-handler-border-radius);\n    outline: var(--va-slider-handler-outline);\n    left: var(--va-slider-handler-left);\n    transition: var(--va-slider-handler-transition);\n\n    &__dot--focus {\n      transform: var(--va-slider-dot-transform);\n      display: var(--va-slider-dot-display);\n      width: var(--va-slider-dot-width);\n      height: var(--va-slider-dot-height);\n      position: var(--va-slider-dot-position);\n      border-radius: var(--va-slider-dot-border-radius);\n      opacity: var(--va-slider-dot-opacity);\n      pointer-events: var(--va-slider-dot-pointer-events);\n    }\n\n    &__dot--value {\n      transform: var(--va-slider-dot-value-transform);\n      user-select: var(--va-slider-dot-value-user-select);\n      font-size: var(--va-slider-dot-value-font-size);\n      letter-spacing: var(--va-slider-dot-value-letter-spacing);\n      line-height: var(--va-slider-dot-value-line-height);\n      font-weight: var(--va-slider-dot-value-font-weight);\n      text-transform: var(--va-slider-dot-value-text-transform);\n    }\n  }\n\n  .va-input__label {\n    user-select: var(--va-slider-input-label-user-select);\n    font-size: var(--va-slider-input-label-font-size);\n    letter-spacing: var(--va-slider-input-label-letter-spacing);\n    line-height: var(--va-slider-input-label-line-height);\n    font-weight: var(--va-slider-input-label-font-weight);\n    text-transform: var(--va-slider-input-label-text-transform);\n  }\n\n  .va-input__label--inverse {\n    user-select: var(--va-slider-input-label-inverse-user-select);\n    font-size: var(--va-slider-input-label-inverse-font-size);\n    letter-spacing: var(--va-slider-input-label-inverse-letter-spacing);\n    line-height: var(--va-slider-input-label-inverse-line-height);\n    font-weight: var(--va-slider-input-label-inverse-font-weight);\n    text-transform: var(--va-slider-input-label-inverse-text-transform);\n  }\n\n  &--active {\n    .va-slider__container {\n      cursor: grabbing;\n    }\n  }\n\n  &--disabled {\n    @include va-disabled;\n\n    .va-slider__container {\n      cursor: default;\n    }\n  }\n\n  &--readonly {\n    .va-slider__container {\n      cursor: default;\n    }\n  }\n}\n\n.va-slider--horizontal {\n  .va-slider__input-wrapper {\n    flex-basis: var(--va-slider-horizontal-input-wrapper-flex-basis);\n    flex-grow: var(--va-slider-horizontal-input-wrapper-flex-grow);\n    max-width: var(--va-slider-horizontal-input-wrapper-max-width);\n    margin-right: var(--va-slider-horizontal-input-wrapper-margin-right);\n    min-width: var(--va-slider-horizontal-input-wrapper-min-width);\n\n    &:last-of-type {\n      margin-left: 1rem;\n    }\n  }\n\n  .va-slider {\n    &__container {\n      width: 100%;\n      height: 1.5rem;\n    }\n\n    &__track {\n      height: var(--va-slider-horizontal-track-height);\n      width: var(--va-slider-horizontal-track-width);\n    }\n\n    &__mark {\n      position: absolute;\n      width: 0.125rem;\n      height: 0.75rem;\n    }\n\n    &__handler {\n      transform: var(--va-slider-horizontal-handler-transform);\n\n      &--inactive {\n        transition: left 0.5s ease-out;\n      }\n\n      &__dot--value {\n        position: var(--va-slider-horizontal-dot-value-position);\n        top: var(--va-slider-horizontal-dot-value-top);\n        left: var(--va-slider-horizontal-dot-value-left);\n      }\n    }\n  }\n\n  .va-input__label {\n    margin-right: 1rem;\n  }\n\n  .va-input__label--inverse {\n    margin-left: 1rem;\n  }\n}\n\n.va-slider--vertical {\n  height: var(--va-slider-vertical-height);\n  padding: var(--va-slider-vertical-padding);\n  flex-direction: var(--va-slider-vertical-flex-direction);\n  align-items: var(--va-slider-vertical-align-items);\n\n  .va-input__label {\n    margin-bottom: var(--va-slider-vertical-label-margin-bottom);\n  }\n\n  .va-input__label--inverse {\n    left: var(--va-slider-vertical-label-inverse-left);\n    margin-top: var(--va-slider-vertical-label-inverse-margin-top);\n  }\n\n  .va-slider {\n    &__input-wrapper {\n      flex-basis: var(--va-slider-vertical-input-wrapper-flex-basis);\n      flex-grow: var(--va-slider-vertical-input-wrapper-flex-grow);\n      max-width: var(--va-slider-vertical-input-wrapper-max-width);\n      min-width: var(--va-slider-vertical-input-wrapper-min-width);\n      position: var(--va-slider-vertical-input-wrapper-position);\n      display: var(--va-slider-vertical-input-wrapper-display);\n\n      &:last-of-type {\n        margin-top: 1rem;\n      }\n    }\n\n    &__container {\n      height: 100%;\n      width: 0.5rem;\n    }\n\n    &__track {\n      height: var(--va-slider-vertical-track-height);\n      width: var(--va-slider-vertical-track-width);\n      bottom: var(--va-slider-vertical-track-bottom);\n    }\n\n    &__mark {\n      position: absolute;\n      width: 0.75rem;\n      height: 0.125rem;\n      left: -2px;\n    }\n\n    &__handler {\n      transform: var(--va-slider-vertical-handler-transform);\n\n      &--inactive {\n        transition: bottom 0.5s ease-out;\n      }\n\n      &__dot--value {\n        position: var(--va-slider-vertical-dot-value-position);\n        top: var(--va-slider-vertical-dot-value-top);\n        left: var(--va-slider-vertical-dot-value-left);\n      }\n    }\n  }\n}\n</style>\n"],"names":["SliderPropsMixin","Vue","with","constructor","this","prop","type","Boolean","default","Number","Array","String","VaSlider","mixins","ColorMixin","modelValue","setup","watch","val","$props","step","min","max","value","validateSlider","hasMouseDown","document","documentElement","style","cursor","pinPositionStyle","vertical","trackSizeStyle","moreToLess","lessToMore","sliderClass","isFocused","disabled","readonly","dotClass","range","flag","labelStyles","color","labelColor","computeColor","colorComputed","trackStyles","backgroundColor","trackColor","getHoverColor","processedStyles","validatedValue","limitValue","val0","val1","visibility","showTrack","dottedStyles","isActiveDot","borderColor","$emit","total","gap","size","multiple","decimals","split","Math","pow","length","interval","pinsCol","position","isRange","limit","valueLimit","isArray","propsForValidation","bindEvents","addEventListener","moving","moveEnd","moveWithKeys","unbindEvents","removeEventListener","index","currentSliderDotIndex","setMouseDown","e","moveStart","getPos","setValueOnPos","touches","preventDefault","from","event","dot0","dot1","dot","includes","activeElement","moveDot","where","which","pins","splice","onePinInterval","nearestPinVal","arrowKeyCodes","CODE_LEFT","CODE_UP","CODE_RIGHT","CODE_DOWN","indexOf","keyCode","isVerticalDot0More","isVerticalDot0Less","isVerticalDot1More","isVerticalDot1Less","isHorizontalDot0Less","isHorizontalDot0More","isHorizontalDot1Less","isHorizontalDot1More","focus","checkActivePin","pin","getPinStyles","transition","getStaticData","offset","clientY","clientX","sliderContainer","getBoundingClientRect","getValueByIndex","setCurrentValue","slider","isDiff","currentValue","pixelPosition","valueRange","v","round","inRange","map","a","b","JSON","stringify","clickOnContainer","pos","mounted","$nextTick","beforeUnmount","__decorate","Ref","HTMLElement","Options","name","components","VaIcon","emits"],"mappings":"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"}