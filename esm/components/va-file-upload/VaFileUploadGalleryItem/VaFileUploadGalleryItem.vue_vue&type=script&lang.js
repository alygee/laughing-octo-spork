import{__decorate as e}from"tslib";import{watch as o}from"vue";import{Vue as t,mixins as i,Options as r,prop as s}from"../../../node_modules/vue-class-component/dist/vue-class-component.esm-bundler.js";import{colorToRgba as l}from"../../../services/color-config/color-functions.js";import m from"../../va-icon/index.js";import a from"../VaFileUploadUndo/index.js";const n=t.with(class{constructor(){this.file=s({type:Object,default:null}),this.color=s({type:String,default:"success"})}});let p=class extends(i(n)){constructor(){super(...arguments),this.previewImage="",this.removed=!1}created(){o((()=>this.$props.file),(()=>{this.convertToImg()}))}get overlayStyles(){return{backgroundColor:l(this.$props.color,.7)}}removeImage(){this.removed=!0,setTimeout((()=>{this.removed&&(this.$emit("remove"),this.removed=!1)}),2e3)}recoverImage(){this.removed=!1}convertToImg(){var e,o;if(this.$props.file.name)if(this.$props.file.image&&this.$props.file.image.url)this.previewImage=this.$props.file.image.url;else{const t=new FileReader;t.readAsDataURL(null===(o=null===(e=null==this?void 0:this.$props)||void 0===e?void 0:e.file)||void 0===o?void 0:o.image),t.onload=e=>{e.target.result.includes("image")&&(this.previewImage=e.target.result)}}}mounted(){this.convertToImg()}};p=e([r({name:"VaFileUploadGalleryItem",components:{VaIcon:m,VaFileUploadUndo:a},emits:["remove"]})],p);var c=p;export default c;
//# sourceMappingURL=VaFileUploadGalleryItem.vue_vue&type=script&lang.js.map
