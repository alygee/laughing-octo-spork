{"version":3,"file":"ClickOutsideMixin-utils.js","sources":["../../../../src/mixins/ClickOutsideMixin/ClickOutsideMixin-utils.ts"],"sourcesContent":["// Most of the mixin's code was taken from:\n// 1/ https://github.com/react-bootstrap/react-overlays/blob/master/src/useRootClose.ts\n// 2/ https://github.com/mui-org/material-ui/blob/master/packages/material-ui/src/ClickAwayListener/ClickAwayListener.js\n\nimport {\n  ownerDocument,\n  contains,\n  isLeftClickEvent,\n  isModifiedEvent,\n} from '../../utils/dom-utils'\nimport { __DEV__ } from '../../utils/global-utils'\n\nexport const handleMouseCapture = (e: MouseEvent, target: Element): boolean => {\n  if (__DEV__) {\n    if (!target) {\n      throw new Error(\n        'ClickOutside captured a click event but does not have a target to compare it to.',\n      )\n    }\n  }\n\n  let insideDom\n\n  // If not enough, can use https://github.com/DieterHolvoet/event-propagation-path/blob/master/propagationPath.js\n  if (e.composedPath) {\n    insideDom = e.composedPath().indexOf(target) > -1\n  } else {\n    const doc = ownerDocument(target)\n    // TODO remove dead logic https://caniuse.com/#search=composedPath.\n    // `doc.contains` works in modern browsers but isn't supported in IE 11:\n    // https://github.com/timmywil/panzoom/issues/450\n    // https://github.com/videojs/video.js/pull/5872\n    insideDom =\n      !(\n        doc.documentElement && doc.documentElement.contains(e.target as Node)\n      ) || contains(target, e.target as Element)\n  }\n\n  return !!(!target || isModifiedEvent(e) || !isLeftClickEvent(e) || insideDom)\n}\n"],"names":["handleMouseCapture","e","target","__DEV__","Error","insideDom","composedPath","indexOf","doc","ownerDocument","documentElement","contains","isModifiedEvent","isLeftClickEvent"],"mappings":"8KAYaA,EAAqB,CAACC,EAAeC,KAChD,GAAIC,IACGD,EACH,MAAM,IAAIE,MACR,oFAKN,IAAIC,EAGJ,GAAIJ,EAAEK,aACJD,EAAYJ,EAAEK,eAAeC,QAAQL,IAAW,MAC3C,CACL,MAAMM,EAAMC,EAAcP,GAK1BG,IAEIG,EAAIE,iBAAmBF,EAAIE,gBAAgBC,SAASV,EAAEC,UACnDS,EAAST,EAAQD,EAAEC,QAG5B,QAAWA,IAAUU,EAAgBX,IAAOY,EAAiBZ,KAAMI"}